import{_ as ae}from"./index.vue_vue_type_script_setup_true_lang-BEqSM3EJ.js";import{d as g}from"./dayjs-B1Q6uUGR.js";import le from"./ScheduleProcessBarChart-6jQT94rw.js";import re from"./NewUsersLineChart-BIrW8ueH.js";import{h as $,P as H}from"./index-bgE4pyYZ.js";import{a as ie}from"./element-plus-BpVoL6Hl.js";import{d as de,r as m,e as O,j as me,b as pe,aj as _,o as p,c,a as t,_ as i,k as o,$ as n,M as V,V as r,Z as ce,Y as D,U as M,F as ue,ab as xe,q as fe}from"./@vue-LCQfV9EA.js";import{_ as ve}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./@iconify-C_QmsgvM.js";import"./@imengyu-hlz2FzY4.js";import"./vue-V89jKJcT.js";import"./echarts-BysxpCH1.js";import"./tslib-BDyQ-Jie.js";import"./zrender-CoZHwYgg.js";import"./resize-Awr2ldYT.js";import"./floating-vue-YUXz7DHw.js";import"./@floating-ui-DiM7Jq06.js";import"./overlayscrollbars-DIcyBJd7.js";import"./vue-m-message-VvYgRV8r.js";import"./crypto-js-D_SVXpv8.js";import"./lodash-es-l8Yk8yFo.js";import"./pinia-DobjMTBt.js";import"./vue-demi-Dq6ymT-8.js";import"./colord-CrBFWQzZ.js";import"./vue-router-B2MUOgAJ.js";import"./@vueuse-BnjkpT_4.js";import"./nprogress-I2SXJrfn.js";import"./vite-plugin-mock-wX3zT8mi.js";import"./path-browserify-BrtdBuns.js";import"./axios-CRnBnh7r.js";import"./mockjs-K4fa3Lrb.js";import"./@element-plus-CddI3ttR.js";import"./@sxzz-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";function he(x){return $.post(`${H}/admin/home/getLineChartData`,x,{headers:{noLoading:!1}})}function ge(x){return $.post(`${H}/admin/home/getBarChartData`,x,{headers:{noLoading:!1}})}function _e(x){return $.get(`${H}/admin/home/getUserSort`,x,{headers:{noLoading:!1}})}const be={class:"Workbench flex justify-between p-16px !w-full"},we={class:"Workbench-wrap-left"},ke={class:"mb-[10px] rounded-[8px] bg-[#fff]"},De={class:"user-manage-board flex justify-between"},ye={class:"user-manage-item"},Ce={class:"user-manage-num"},Ye={class:"user-manage-item"},Me={class:"user-manage-num"},Ne={class:"user-manage-item"},Ue={class:"user-manage-num"},Ve={class:"px-[10px]"},$e={class:"text-right"},He={class:"py-[18px] !w-full"},je={class:"mb-[10px] rounded-[8px] bg-[#fff]"},Le={class:"todo-list flex justify-between"},Be={class:"todo-item-num"},Se={class:"todo-item-num"},ze={class:"todo-item-num"},Ie={class:"todo-item-num"},Pe={class:"rounded-[8px] bg-[#fff]"},Te={class:"relative"},Fe={class:"absolute right-[15px] top-[54px] z-10"},Ae={class:"pb-[18px] !w-full"},Re={class:"Workbench-wrap-right"},qe={class:"mb-[10px] rounded-[8px] bg-[#fff]"},Oe={class:"pt-[18px]"},We={class:"w-full flex items-center justify-between"},Ee={class:"text-[16px] text-[#666]"},Ze={class:"relative"},Ge={class:"text-[14px]"},Je={class:"dot-box"},Ke={key:0,class:"dot-item red-dot"},Qe={key:1,class:"dot-item gray-dot"},Xe={class:"mb-[15px] mt-[10px] flex items-center px-[15px] text-[14px] text-[#333] font-[400]"},et={class:"flex flex-1 items-center"},tt={class:"w-[80px]"},st={class:"flex items-center px-[15px] pb-[24px] text-[14px] text-[#333] font-[400]"},ot={class:"flex items-center"},nt={class:"flex-1 pl-[15px] pr-[17px]"},at={class:"w-[80px] flex items-center justify-between"},lt={class:"mb-[10px] rounded-[8px] bg-[#fff]"},rt={class:"relative"},it={class:"flex items-center p-[15px] pl-0 text-[16px] font-[550]"},dt={key:0,class:"compliance-rate"},mt={class:"compliance-item-name"},pt={key:1,class:"compliance-rate text-center !h-[610px]"},ct={class:"pt-[100px]"},ut={key:0,class:"px-[30px] py-[40px]"},xt=de({__name:"index",setup(x){const u=m({yesterdayAddUserNumber:40,todayUserNumber:50,yesterdayAddPlanNumber:40,totalUserNumber:951,module1:12,module2:120,module3:653,module4:58}),j=m([]),W=()=>{ge({}).then(s=>{j.value=s.data.records||[]})},L=m([]),E=()=>{he({}).then(s=>{L.value=s.data.records||[]})},f=m([]),Z=()=>{_e({}).then(s=>{f.value=s.data.records||[]})};O(()=>{Z(),W(),E()});const v=m({}),B=[{text:"近一个周",value:()=>{const s=new Date,e=new Date;return e.setDate(e.getDate()-7),[e,s]}},{text:"近一个月",value:()=>{const s=new Date,e=new Date;return e.setMonth(e.getMonth()-1),[e,s]}},{text:"近三个月",value:()=>{const s=new Date,e=new Date;return e.setMonth(e.getMonth()-3),[e,s]}},{text:"近半年",value:()=>{const s=new Date,e=new Date;return e.setMonth(e.getMonth()-6),[e,s]}},{text:"近一年",value:()=>{const s=new Date,e=new Date;return e.setMonth(e.getMonth()-12),[e,s]}}],y=m([]);function G(){}const h=m({pageIndex:1,pageSize:10,total:0});function J(s){h.value.pageIndex=s}const N=m(!1);function K(){h.value.pageIndex=1,N.value=!N.value}const C=m([]);function Q(){}const Y=m(new Date),X=m([]),ee=m([]);me(()=>Y.value,s=>{if(s){const e=g(new Date(s)).startOf("month").format("YYYY-MM-DD HH:mm:ss"),w=g(new Date(s)).endOf("month").format("YYYY-MM-DD HH:mm:ss");X.value=[e,w]}},{deep:!0,immediate:!0});const U=m();function S(s){U.value&&U.value.selectDate(s)}const z=pe(()=>s=>{if(s){const e=g(new Date(s)).format("YYYY-MM-DD");return ee.value.find(l=>l.date===e)||{}}});function b(s){ie.warning(`跳转${s}，待开发`)}return O(()=>{const s=g().subtract(1,"month").format("YYYY-MM-DD HH:mm:ss"),e=g().format("YYYY-MM-DD HH:mm:ss");C.value=[s,e],y.value=[s,e]}),(s,e)=>{var I,P,T,F,A,R,q;const w=_("el-date-picker"),l=ae,d=_("el-icon"),te=_("el-calendar"),se=_("el-progress"),oe=_("el-popover"),ne=_("el-pagination");return p(),c("div",be,[t("div",we,[e[21]||(e[21]=t("div",{class:"mb-[10px] rounded-[8px] bg-[#fff] p-[20px] text-[16px] text-[#333] font-[550]"}," 您好，管理员~ ",-1)),t("div",ke,[e[13]||(e[13]=t("div",{class:"wrap-bock-title"}," 系统看板 ",-1)),t("div",De,[t("div",ye,[e[10]||(e[10]=t("div",{class:"user-manage-name"}," 昨日新增用户 ",-1)),t("div",Ce,i(o(u).yesterdayAddUserNumber||0),1)]),t("div",Ye,[e[11]||(e[11]=t("div",{class:"user-manage-name"}," 今日新增用户 ",-1)),t("div",Me,i(o(u).todayUserNumber||0),1)]),t("div",Ne,[e[12]||(e[12]=t("div",{class:"user-manage-name"}," 总用户数 ",-1)),t("div",Ue,i(o(u).totalUserNumber||0),1)])]),t("div",Ve,[t("div",$e,[n(w,{modelValue:o(C),"onUpdate:modelValue":e[0]||(e[0]=a=>V(C)?C.value=a:null),type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":"开始时间","end-placeholder":"结束时间",shortcuts:B,onChange:Q},null,8,["modelValue"])]),t("div",He,[n(re,{width:"100%","chart-data":o(L),height:"255px"},null,8,["chart-data"])])])]),t("div",je,[e[18]||(e[18]=t("div",{class:"wrap-bock-title"}," 待处理 ",-1)),t("div",Le,[t("div",{class:"todo-item bg-orange",onClick:e[1]||(e[1]=a=>b("/user/center"))},[e[14]||(e[14]=t("div",{class:"todo-item-name"}," 模块一 ",-1)),t("div",Be,i(o(u).module1||0),1),n(d,{class:"todo-item-icon text-[48px]"},{default:r(()=>[n(l,{name:"workbench-audit"})]),_:1})]),t("div",{class:"todo-item bg-green",onClick:e[2]||(e[2]=a=>b("/user/chat"))},[e[15]||(e[15]=t("div",{class:"todo-item-name"}," 模块二 ",-1)),t("div",Se,i(o(u).module2||0),1),n(d,{class:"todo-item-icon text-[48px]"},{default:r(()=>[n(l,{name:"workbench-chat-room-message"})]),_:1})]),t("div",{class:"todo-item bg-pink",onClick:e[3]||(e[3]=a=>b("/abnormal/list"))},[e[16]||(e[16]=t("div",{class:"todo-item-name"}," 模块三 ",-1)),t("div",ze,i(o(u).module3||0),1),n(d,{class:"todo-item-icon text-[48px]"},{default:r(()=>[n(l,{name:"workbench-abnormal"})]),_:1})]),t("div",{class:"todo-item bg-pink",onClick:e[4]||(e[4]=a=>b("/abnormal/list"))},[e[17]||(e[17]=t("div",{class:"todo-item-name"}," 模块四 ",-1)),t("div",Ie,i(o(u).module4||0),1),n(d,{class:"todo-item-icon text-[48px]"},{default:r(()=>[n(l,{name:"workbench-questionnaire-abnormal"})]),_:1})])])]),t("div",Pe,[e[20]||(e[20]=t("div",{class:"wrap-bock-title"}," 数据统计 ",-1)),t("div",Te,[e[19]||(e[19]=t("div",{class:"flex items-center p-[15px] pl-0 text-[16px] font-[550]"},[t("span",{class:"title-left-line"}),ce(" 日程处理量统计 ")],-1)),t("div",Fe,[n(w,{modelValue:o(y),"onUpdate:modelValue":e[5]||(e[5]=a=>V(y)?y.value=a:null),type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":"开始时间","end-placeholder":"结束时间",shortcuts:B,onChange:G},null,8,["modelValue"])]),t("div",Ae,[n(le,{width:"100%",height:"280px","chart-data":o(j)},null,8,["chart-data"])])])])]),t("div",Re,[t("div",qe,[e[24]||(e[24]=t("div",{class:"wrap-bock-title"}," 我的日程 ",-1)),t("div",Oe,[n(te,{ref_key:"calendar",ref:U,modelValue:o(Y),"onUpdate:modelValue":e[8]||(e[8]=a=>V(Y)?Y.value=a:null),class:"custom-calendar"},{header:r(a=>[t("div",We,[n(d,{class:"cursor-pointer text-[15px]",onClick:e[6]||(e[6]=k=>S("prev-month"))},{default:r(()=>[n(l,{name:"workbench-arrow-left"})]),_:1}),t("span",Ee,i(o(g)(a.date.replace("年","").replace("月","")).format("YYYY-MM")),1),n(d,{class:"cursor-pointer text-[15px]",onClick:e[7]||(e[7]=k=>S("next-month"))},{default:r(()=>[n(l,{name:"workbench-arrow-right"})]),_:1})])]),"date-cell":r(({data:a})=>[t("div",Ze,[t("div",Ge,i(a.day.split("-")[2]),1),t("div",Je,[o(z)(a.day).haveUncompleted?(p(),c("span",Ke)):D("",!0),o(z)(a.day).haveUnstarted?(p(),c("span",Qe)):D("",!0)])])]),_:1},8,["modelValue"])]),t("div",Xe,[t("div",et,[n(d,{class:"text-[28px]"},{default:r(()=>[n(l,{name:"workbench-server-user"})]),_:1}),e[22]||(e[22]=t("span",{class:"ml-[10px]"},"服务用户数",-1))]),t("div",tt,i(o(v).serviceUserNumber||0),1)]),t("div",st,[t("div",ot,[n(d,{class:"text-[28px]"},{default:r(()=>[n(l,{name:"workbench-schedule"})]),_:1}),e[23]||(e[23]=t("span",{class:"ml-[10px]"},"日程",-1))]),t("div",nt,[n(se,{type:"line",percentage:(I=o(v))!=null&&I.scheduleNumber?((P=o(v))==null?void 0:P.scheduleCompleteNumber)/(((T=o(v))==null?void 0:T.scheduleNumber)||1)*100:0,color:"linear-gradient( 90deg, #2D68F4 0%, #268AFF 100%)","show-text":!1,"stroke-width":7},null,8,["percentage"])]),t("div",at,[t("span",null,i(o(v).scheduleCompleteNumber)+"/"+i(o(v).scheduleNumber),1),n(d,{class:"cursor-pointer text-[14px] text-[#666]",onClick:e[9]||(e[9]=a=>b("/flow/schedule"))},{default:r(()=>[n(l,{name:"workbench-schedule-right"})]),_:1})])])]),t("div",lt,[e[28]||(e[28]=t("div",{class:"wrap-bock-title"}," 系统排名 ",-1)),t("div",rt,[t("div",it,[e[25]||(e[25]=t("span",{class:"title-left-line"},null,-1)),e[26]||(e[26]=t("span",null,"用户热度排行",-1)),(F=o(f))!=null&&F.length?(p(),M(d,{key:0,class:"ml-[12px] cursor-pointer text-[16px]",onClick:K},{default:r(()=>[o(N)?(p(),M(l,{key:0,name:"workbench-sort-up"})):(p(),M(l,{key:1,name:"workbench-sort-down"}))]),_:1})):D("",!0),(A=o(f))!=null&&A.length?D("",!0):(p(),M(d,{key:1,class:"ml-[12px] cursor-pointer text-[16px]"},{default:r(()=>[n(l,{name:"workbench-sort-default"})]),_:1})),n(oe,{placement:"bottom",title:"",width:350,effect:"dark",trigger:"hover",content:"用于用户在系统中的活跃度排名（没有实际意义）"},{reference:r(()=>[n(d,{class:"ml-[10px] text-[16px]"},{default:r(()=>[n(l,{name:"workbench-question-mark"})]),_:1})]),_:1})]),(R=o(f))!=null&&R.length?(p(),c("div",dt,[(p(!0),c(ue,null,xe(o(f),(a,k)=>(p(),c("div",{key:k,class:"compliance-item flex items-center"},[t("span",{class:fe(["sort-index",{"top-sort":k<3}])},i(k+1+(o(h).pageIndex-1)*10),3),t("span",mt,i(a.name),1),t("span",null,i(a.createTime),1)]))),128))])):(p(),c("div",pt,[t("div",ct,[n(d,{class:"ml-[10px] text-[160px]"},{default:r(()=>[n(l,{name:"workbench-empty"})]),_:1})]),e[27]||(e[27]=t("div",{class:"mt-[10] text-[15px] text-[#B8C4D1]"}," 暂无数据 ",-1))]))]),(q=o(f))!=null&&q.length?(p(),c("div",ut,[n(ne,{background:"",size:"small",layout:"prev, pager, next",total:o(h).total,"page-size":o(h).pageSize,"pager-count":3,"current-page":o(h).pageIndex,onCurrentChange:J},null,8,["total","page-size","current-page"])])):D("",!0)])])])}}}),Qt=ve(xt,[["__scopeId","data-v-eb120b4c"]]);export{Qt as default};
