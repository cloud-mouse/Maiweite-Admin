import{e as o,R as d}from"./monaco-editor-Dhhxw_oD.js";import{m as g}from"./index-BBJ3nvGD.js";import{d as h,r as v,e as V,j as _,n as T,o as b,c as y}from"./@vue-pvvZVrFb.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index.vue_vue_type_script_setup_true_lang-6EwJ9N-Y.js";import"./@iconify-CaxNw4tt.js";import"./vue-router-EGzKxKvl.js";import"./index-D1PK4vhB.js";import"./floating-vue-4fuRf8vs.js";import"./@floating-ui-DiM7Jq06.js";import"./overlayscrollbars-DIcyBJd7.js";import"./vue-m-message-DjrEUVXL.js";import"./element-plus-C-DFkfq5.js";import"./lodash-es-l8Yk8yFo.js";import"./@vueuse-T0N5pcum.js";import"./nprogress-D_ytO6nf.js";import"./@imengyu-CJXSuKKD.js";import"./vue-CFNvRKsS.js";import"./@element-plus-B1SGd3PH.js";import"./@sxzz-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BU0tXZvT.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./crypto-js-B0zqdDQ0.js";import"./pinia-DSCqkA4F.js";import"./vue-demi-Dq6ymT-8.js";import"./colord-CrBFWQzZ.js";import"./path-browserify-OMgzBbgZ.js";import"./axios-CRnBnh7r.js";import"./vite-plugin-mock-Bh-DZNsC.js";import"./mockjs-CK6d0B8Y.js";const N=h({__name:"index",props:{language:{default:"json"},readOnly:{type:Boolean,default:!1},valueFormat:{default:"string"},modelValue:{},config:{default:()=>({selectOnLineNumbers:!0,minimap:{enabled:!1}})},lineNumbers:{default:"on"},autoToggleTheme:{type:Boolean},theme:{default:"vs-light"}},emits:["update:modelValue"],setup(u,{expose:m,emit:s}){const l=u,a=s,i=v(null);let e=null;const{isDark:n}=g();function p(){n.value?o.setTheme("vs-dark"):o.setTheme("vs-light")}function f(r){e==null||e.setValue(r||"")}function c(r){const t=e==null?void 0:e.getPosition();t&&(e==null||e.executeEdits("",[{range:new d(t.lineNumber,t.column,t.lineNumber,t.column),text:r}]),e==null||e.setPosition({...t,column:t.column+r.length}),e==null||e.focus())}return V(()=>{e=o.create(i.value,{value:r(),...l.config,language:l.language,readOnly:l.readOnly,lineNumbers:l.lineNumbers,theme:l.theme,scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:10,horizontalScrollbarSize:10},automaticLayout:!0}),l.autoToggleTheme&&_(()=>n.value,()=>{T(()=>p())},{immediate:!0});function r(){return l.valueFormat==="json"&&l.modelValue?JSON.stringify(l.modelValue,null,2):l.modelValue??""}e.onDidChangeModelContent(()=>{const t=e==null?void 0:e.getValue();if(l.valueFormat==="json"&&t){a("update:modelValue",JSON.parse(t));return}a("update:modelValue",t??"")})}),m({setValue:f,insertText:c}),(r,t)=>(b(),y("div",{ref_key:"editContainer",ref:i,class:"elegant-code-editor"},null,512))}}),oe=x(N,[["__scopeId","data-v-af7ea789"]]);export{oe as default};
