import{_ as Q}from"./index.vue_vue_type_script_setup_true_lang-BEqSM3EJ.js";import{d as v}from"./dayjs-B1Q6uUGR.js";import X from"./ScheduleProcessBarChart-6jQT94rw.js";import tt from"./NewPatientsLineChart-B3UwJ7Cj.js";import{f as et}from"./index-B5viq0lp.js";import{a as st}from"./element-plus-BpVoL6Hl.js";import{d as ot,r as p,j as nt,b as at,e as lt,aj as _,o as m,c,a as e,_ as r,k as s,$ as o,M as V,V as i,Z as it,Y as k,U as C,F as rt,ab as dt,q as pt}from"./@vue-LCQfV9EA.js";import{_ as mt}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./@iconify-C_QmsgvM.js";import"./@imengyu-hlz2FzY4.js";import"./vue-V89jKJcT.js";import"./echarts-BysxpCH1.js";import"./tslib-BDyQ-Jie.js";import"./zrender-CoZHwYgg.js";import"./resize-Awr2ldYT.js";import"./floating-vue-YUXz7DHw.js";import"./@floating-ui-DiM7Jq06.js";import"./overlayscrollbars-DIcyBJd7.js";import"./vue-m-message-VvYgRV8r.js";import"./crypto-js-D_SVXpv8.js";import"./lodash-es-l8Yk8yFo.js";import"./pinia-DobjMTBt.js";import"./vue-demi-Dq6ymT-8.js";import"./colord-CrBFWQzZ.js";import"./vue-router-B2MUOgAJ.js";import"./@vueuse-BnjkpT_4.js";import"./nprogress-I2SXJrfn.js";import"./vite-plugin-mock-wX3zT8mi.js";import"./path-browserify-BrtdBuns.js";import"./axios-CRnBnh7r.js";import"./mockjs-K4fa3Lrb.js";import"./@element-plus-CddI3ttR.js";import"./@sxzz-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";const ct={class:"Workbench flex justify-between p-16px !w-full"},ut={class:"Workbench-wrap-left"},xt={class:"mb-[10px] rounded-[8px] bg-[#fff]"},ft={class:"patient-manage-board flex justify-between"},vt={class:"patient-manage-item"},_t={class:"patient-manage-num"},ht={class:"patient-manage-item"},gt={class:"patient-manage-num"},bt={class:"patient-manage-item"},wt={class:"patient-manage-num"},kt={class:"px-[10px]"},Dt={class:"text-right"},yt={class:"py-[18px] !w-full"},Yt={class:"mb-[10px] rounded-[8px] bg-[#fff]"},Ct={class:"todo-list flex justify-between"},Mt={class:"todo-item-num"},Nt={class:"todo-item-num"},Vt={class:"todo-item-num"},Ht={class:"todo-item-num"},jt={class:"rounded-[8px] bg-[#fff]"},$t={class:"relative"},Pt={class:"absolute right-[15px] top-[54px] z-10"},zt={class:"pb-[18px] !w-full"},It={class:"Workbench-wrap-right"},St={class:"mb-[10px] rounded-[8px] bg-[#fff]"},Ut={class:"pt-[18px]"},Bt={class:"w-full flex items-center justify-between"},Ft={class:"text-[16px] text-[#666]"},qt={class:"relative"},Lt={class:"text-[14px]"},Rt={class:"dot-box"},Tt={key:0,class:"dot-item red-dot"},At={key:1,class:"dot-item gray-dot"},Wt={class:"mb-[15px] mt-[10px] flex items-center px-[15px] text-[14px] text-[#333] font-[400]"},Et={class:"flex flex-1 items-center"},Ot={class:"w-[80px]"},Gt={class:"flex items-center px-[15px] pb-[24px] text-[14px] text-[#333] font-[400]"},Zt={class:"flex items-center"},Jt={class:"flex-1 pl-[15px] pr-[17px]"},Kt={class:"w-[80px] flex items-center justify-between"},Qt={class:"mb-[10px] rounded-[8px] bg-[#fff]"},Xt={class:"relative"},te={class:"flex items-center p-[15px] pl-0 text-[16px] font-[550]"},ee={key:0,class:"compliance-rate"},se={class:"compliance-item-name",title:"胸外科病房"},oe={key:1,class:"compliance-rate text-center !h-[610px]"},ne={class:"pt-[100px]"},ae={key:0,class:"px-[30px] py-[40px]"},le=ot({__name:"index",setup(ie){const u=p({}),q=p([]),h=p([]),L=p([]),x=p({}),H=[{text:"近一个周",value:()=>{const n=new Date,t=new Date;return t.setDate(t.getDate()-7),[t,n]}},{text:"近一个月",value:()=>{const n=new Date,t=new Date;return t.setMonth(t.getMonth()-1),[t,n]}},{text:"近三个月",value:()=>{const n=new Date,t=new Date;return t.setMonth(t.getMonth()-3),[t,n]}},{text:"近半年",value:()=>{const n=new Date,t=new Date;return t.setMonth(t.getMonth()-6),[t,n]}},{text:"近一年",value:()=>{const n=new Date,t=new Date;return t.setMonth(t.getMonth()-12),[t,n]}}],D=p([]);function R(){}const f=p({pageIndex:1,pageSize:10,total:0});function T(n){f.value.pageIndex=n}const M=p(!1);function A(){f.value.pageIndex=1,M.value=!M.value}const y=p([]);function W(){}const Y=p(new Date),E=p([]),O=p([]);nt(()=>Y.value,n=>{if(n){const t=v(new Date(n)).startOf("month").format("YYYY-MM-DD HH:mm:ss"),b=v(new Date(n)).endOf("month").format("YYYY-MM-DD HH:mm:ss");E.value=[t,b]}},{deep:!0,immediate:!0});const N=p();function j(n){N.value&&N.value.selectDate(n)}const $=at(()=>n=>{if(n){const t=v(new Date(n)).format("YYYY-MM-DD");return O.value.find(l=>l.date===t)||{}}});function g(n){et.push({path:n}),st.warning(`跳转${n}`)}return lt(()=>{const n=v().subtract(1,"month").format("YYYY-MM-DD HH:mm:ss"),t=v().format("YYYY-MM-DD HH:mm:ss");y.value=[n,t],D.value=[n,t]}),(n,t)=>{var P,z,I,S,U,B,F;const b=_("el-date-picker"),l=Q,d=_("el-icon"),G=_("el-calendar"),Z=_("el-progress"),J=_("el-popover"),K=_("el-pagination");return m(),c("div",ct,[e("div",ut,[t[21]||(t[21]=e("div",{class:"mb-[10px] rounded-[8px] bg-[#fff] p-[20px] text-[16px] text-[#333] font-[550]"}," 您好，管理员~ ",-1)),e("div",xt,[t[13]||(t[13]=e("div",{class:"wrap-bock-title"}," 患者管理看板 ",-1)),e("div",ft,[e("div",vt,[t[10]||(t[10]=e("div",{class:"patient-manage-name"}," 昨日新增患者 ",-1)),e("div",_t,r(s(u).yesterdayAddPatientNumber||0),1)]),e("div",ht,[t[11]||(t[11]=e("div",{class:"patient-manage-name"}," 计划进行中患者 ",-1)),e("div",gt,r(s(u).planPatientNumber||0),1)]),e("div",bt,[t[12]||(t[12]=e("div",{class:"patient-manage-name"}," 总患者数 ",-1)),e("div",wt,r(s(u).totalPatientNumber||0),1)])]),e("div",kt,[e("div",Dt,[o(b,{modelValue:s(y),"onUpdate:modelValue":t[0]||(t[0]=a=>V(y)?y.value=a:null),type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":"开始时间","end-placeholder":"结束时间",shortcuts:H,onChange:W},null,8,["modelValue"])]),e("div",yt,[o(tt,{width:"100%","chart-data":s(L),height:"255px"},null,8,["chart-data"])])])]),e("div",Yt,[t[18]||(t[18]=e("div",{class:"wrap-bock-title"}," 待处理 ",-1)),e("div",Ct,[e("div",{class:"todo-item bg-orange",onClick:t[1]||(t[1]=a=>g("/patient/center"))},[t[14]||(t[14]=e("div",{class:"todo-item-name"}," 待审核入组 ",-1)),e("div",Mt,r(s(u).applyGroup||0),1),o(d,{class:"todo-item-icon text-[48px]"},{default:i(()=>[o(l,{name:"workbench-audit"})]),_:1})]),e("div",{class:"todo-item bg-green",onClick:t[2]||(t[2]=a=>g("/patient/chat"))},[t[15]||(t[15]=e("div",{class:"todo-item-name"}," 聊天室消息 ",-1)),e("div",Nt,r(s(u).chatRoomMessageNumber||0),1),o(d,{class:"todo-item-icon text-[48px]"},{default:i(()=>[o(l,{name:"workbench-chat-room-message"})]),_:1})]),e("div",{class:"todo-item bg-pink",onClick:t[3]||(t[3]=a=>g("/abnormal/list"))},[t[16]||(t[16]=e("div",{class:"todo-item-name"}," 指标异常 ",-1)),e("div",Vt,r(s(u).quotaAbnormalNumber||0),1),o(d,{class:"todo-item-icon text-[48px]"},{default:i(()=>[o(l,{name:"workbench-abnormal"})]),_:1})]),e("div",{class:"todo-item bg-pink",onClick:t[4]||(t[4]=a=>g("/abnormal/list"))},[t[17]||(t[17]=e("div",{class:"todo-item-name"}," 问卷异常 ",-1)),e("div",Ht,r(s(u).questionnaireNumber||0),1),o(d,{class:"todo-item-icon text-[48px]"},{default:i(()=>[o(l,{name:"workbench-questionnaire-abnormal"})]),_:1})])])]),e("div",jt,[t[20]||(t[20]=e("div",{class:"wrap-bock-title"}," 数据统计 ",-1)),e("div",$t,[t[19]||(t[19]=e("div",{class:"flex items-center p-[15px] pl-0 text-[16px] font-[550]"},[e("span",{class:"title-left-line"}),it(" 日程处理量统计 ")],-1)),e("div",Pt,[o(b,{modelValue:s(D),"onUpdate:modelValue":t[5]||(t[5]=a=>V(D)?D.value=a:null),type:"daterange","value-format":"YYYY-MM-DD HH:mm:ss","start-placeholder":"开始时间","end-placeholder":"结束时间",shortcuts:H,onChange:R},null,8,["modelValue"])]),e("div",zt,[o(X,{width:"100%",height:"280px","chart-data":s(q)},null,8,["chart-data"])])])])]),e("div",It,[e("div",St,[t[24]||(t[24]=e("div",{class:"wrap-bock-title"}," 我的日程 ",-1)),e("div",Ut,[o(G,{ref_key:"calendar",ref:N,modelValue:s(Y),"onUpdate:modelValue":t[8]||(t[8]=a=>V(Y)?Y.value=a:null),class:"custom-calendar"},{header:i(a=>[e("div",Bt,[o(d,{class:"cursor-pointer text-[15px]",onClick:t[6]||(t[6]=w=>j("prev-month"))},{default:i(()=>[o(l,{name:"workbench-arrow-left"})]),_:1}),e("span",Ft,r(s(v)(a.date.replace("年","").replace("月","")).format("YYYY-MM")),1),o(d,{class:"cursor-pointer text-[15px]",onClick:t[7]||(t[7]=w=>j("next-month"))},{default:i(()=>[o(l,{name:"workbench-arrow-right"})]),_:1})])]),"date-cell":i(({data:a})=>[e("div",qt,[e("div",Lt,r(a.day.split("-")[2]),1),e("div",Rt,[s($)(a.day).haveUncompleted?(m(),c("span",Tt)):k("",!0),s($)(a.day).haveUnstarted?(m(),c("span",At)):k("",!0)])])]),_:1},8,["modelValue"])]),e("div",Wt,[e("div",Et,[o(d,{class:"text-[28px]"},{default:i(()=>[o(l,{name:"workbench-server-patient"})]),_:1}),t[22]||(t[22]=e("span",{class:"ml-[10px]"},"服务患者数",-1))]),e("div",Ot,r(s(x).servicePatientNumber||0),1)]),e("div",Gt,[e("div",Zt,[o(d,{class:"text-[28px]"},{default:i(()=>[o(l,{name:"workbench-schedule"})]),_:1}),t[23]||(t[23]=e("span",{class:"ml-[10px]"},"日程",-1))]),e("div",Jt,[o(Z,{type:"line",percentage:(P=s(x))!=null&&P.scheduleNumber?((z=s(x))==null?void 0:z.scheduleCompleteNumber)/(((I=s(x))==null?void 0:I.scheduleNumber)||1)*100:0,color:"linear-gradient( 90deg, #2D68F4 0%, #268AFF 100%)","show-text":!1,"stroke-width":7},null,8,["percentage"])]),e("div",Kt,[e("span",null,r(s(x).scheduleCompleteNumber)+"/"+r(s(x).scheduleNumber),1),o(d,{class:"cursor-pointer text-[14px] text-[#666]",onClick:t[9]||(t[9]=a=>g("/flow/schedule"))},{default:i(()=>[o(l,{name:"workbench-schedule-right"})]),_:1})])])]),e("div",Qt,[t[28]||(t[28]=e("div",{class:"wrap-bock-title"}," 系统排名 ",-1)),e("div",Xt,[e("div",te,[t[25]||(t[25]=e("span",{class:"title-left-line"},null,-1)),t[26]||(t[26]=e("span",null,"患者路径达标率",-1)),(S=s(h))!=null&&S.length?(m(),C(d,{key:0,class:"ml-[12px] cursor-pointer text-[16px]",onClick:A},{default:i(()=>[s(M)?(m(),C(l,{key:0,name:"workbench-sort-up"})):(m(),C(l,{key:1,name:"workbench-sort-down"}))]),_:1})):k("",!0),(U=s(h))!=null&&U.length?k("",!0):(m(),C(d,{key:1,class:"ml-[12px] cursor-pointer text-[16px]"},{default:i(()=>[o(l,{name:"workbench-sort-default"})]),_:1})),o(J,{placement:"bottom",title:"",width:350,effect:"dark",trigger:"hover",content:"用于展示计划向患者发送日程后，患者对日程的完成比率，数字越大代表患者对日程的完成情况越好。"},{reference:i(()=>[o(d,{class:"ml-[10px] text-[16px]"},{default:i(()=>[o(l,{name:"workbench-question-mark"})]),_:1})]),_:1})]),(B=s(h))!=null&&B.length?(m(),c("div",ee,[(m(!0),c(rt,null,dt(s(h),(a,w)=>(m(),c("div",{key:w,class:"compliance-item flex items-center"},[e("span",{class:pt(["sort-index",{"top-sort":w<3}])},r(w+1+(s(f).pageIndex-1)*10),3),e("span",se,r(a.patientName),1),e("span",null,r((a.completionScale*100).toFixed(0))+"%",1)]))),128))])):(m(),c("div",oe,[e("div",ne,[o(d,{class:"ml-[10px] text-[160px]"},{default:i(()=>[o(l,{name:"workbench-empty"})]),_:1})]),t[27]||(t[27]=e("div",{class:"mt-[10] text-[15px] text-[#B8C4D1]"}," 暂无数据 ",-1))]))]),(F=s(h))!=null&&F.length?(m(),c("div",ae,[o(K,{background:"",size:"small",layout:"prev, pager, next",total:s(f).total,"page-size":s(f).pageSize,"pager-count":3,"current-page":s(f).pageIndex,onCurrentChange:T},null,8,["total","page-size","current-page"])])):k("",!0)])])])}}}),We=mt(le,[["__scopeId","data-v-03eea2e5"]]);export{We as default};
