import{_ as B}from"./index.vue_vue_type_script_setup_true_lang-6EwJ9N-Y.js";import{d as P,r as T,b as H,ak as j,o as d,V as $,W as M,a as r,a0 as c,k as n,c as _,$ as L,Z as C,q as I,F as R,ac as A,Q as O,S as F,bp as K,bN as Z,j as E,_ as U,a2 as le,i as be,Y as ve,ao as ge,R as Ce,s as ae,T as Ie,n as X,p as Pe,l as Te,e as ee,X as Y,a1 as Q,a6 as ie,U as He,an as Re,ae as Be,A as Ne,al as Ue,a8 as me,g as he,aK as Ee}from"./@vue-pvvZVrFb.js";import{h as se}from"./hotkeys-js-BfWqkGRU.js";import{u as N,a as Le,c as W,d as qe,e as ze}from"./index-D8Ko74US.js";import{v as Ae,w as pe,x as Oe,y as je,z as De}from"./@vueuse-T0N5pcum.js";import{b as G,u as J}from"./vue-router-EGzKxKvl.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{p as Ke,x as Fe,m as Je,Y as Ye,h as fe,G as We,V as Ge,J as Xe,S as Qe,u as Ze}from"./@headlessui-5ZtJncke.js";import{P as _e}from"./overlayscrollbars-vue-DHXX1kI-.js";import{_ as et}from"./HButton.vue_vue_type_script_setup_true_lang-BLmLRYDA.js";import{i as oe}from"./vue-m-message-DjrEUVXL.js";import{m as tt}from"./mitt-DJ65BbbF.js";import{C as nt}from"./@imengyu-CJXSuKKD.js";import{d as ye}from"./pinia-DSCqkA4F.js";import{c as st}from"./path-to-regexp-CAMS7WqV.js";import"./@iconify-CaxNw4tt.js";import"./floating-vue-4fuRf8vs.js";import"./@floating-ui-DiM7Jq06.js";import"./overlayscrollbars-DIcyBJd7.js";import"./element-plus-C-DFkfq5.js";import"./lodash-es-l8Yk8yFo.js";import"./@element-plus-B1SGd3PH.js";import"./@sxzz-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BU0tXZvT.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./crypto-js-B0zqdDQ0.js";import"./colord-CrBFWQzZ.js";import"./monaco-editor-Dhhxw_oD.js";import"./path-browserify-OMgzBbgZ.js";import"./axios-CRnBnh7r.js";import"./vite-plugin-mock-Bh-DZNsC.js";import"./mockjs-CK6d0B8Y.js";import"./vue-CFNvRKsS.js";import"./vue-demi-Dq6ymT-8.js";import"./nprogress-D_ytO6nf.js";const ot={class:"h-30px w-30px text-32px"},lt={key:0,class:"ml-15px block truncate font-bold"},re=P({name:"Logo",__name:"index",props:{showLogo:{type:Boolean,default:!0},showTitle:{type:Boolean,default:!0}},setup(b){const s=N(),t=T("Maiweite-Admin 管理系统"),o=H(()=>s.settings.home.enable?s.settings.home.fullPath:""),a=H(()=>s.settings.app.themeColor);return(l,x)=>{const f=B,i=j("RouterLink");return d(),$(i,{to:n(o),class:I(["h-[var(--g-sidebar-logo-height)] w-inherit flex-center gap-2 px-3 text-inherit no-underline",{"cursor-pointer":n(s).settings.home.enable}]),title:n(t)},{default:M(()=>[r("div",ot,[c(f,{class:"logo object-contain",color:n(a),name:"logo"},null,8,["color"])]),l.showTitle?(d(),_("span",lt,L(n(t)),1)):C("",!0)]),_:1},8,["to","class","title"])}}}),at=["disabled","onClick"],it=P({__name:"HDropdownMenu",props:{items:{}},setup(b){const s=b,t=H(()=>s.items.map(o=>o.filter(a=>!a.hide)).filter(o=>o.length));return(o,a)=>{const l=j("VMenu");return d(),$(l,F({"show-triggers":["hover"],"auto-hide":!1,"popper-triggers":["hover","click"],delay:200},o.$attrs),{popper:M(()=>[(d(!0),_(R,null,A(n(t),(x,f)=>(d(),_("div",{key:f,class:"p-1","border-b":"~ solid stone-2 dark:stone-7 last:size-0"},[(d(!0),_(R,null,A(x,(i,g)=>(d(),_("button",{key:g,disabled:i.disabled,class:"w-full flex cursor-pointer items-center gap-2 border-size-0 rounded-md bg-inherit px-2 py-1.5 text-sm text-dark disabled:cursor-not-allowed dark:text-white disabled:opacity-50 hover:not-disabled:bg-stone-1 dark:hover:not-disabled:bg-stone-9",onClick:i.handle},L(i.label),9,at))),128))]))),128))]),default:M(()=>[O(o.$slots,"default")]),_:3},16)}}}),rt=P({name:"Fullscreen",__name:"index",setup(b){const s=N(),{isFullscreen:t,toggle:o}=Ae();return(a,l)=>{const x=B;return n(s).mode==="pc"?(d(),_("span",{key:0,class:"mx-6px flex-center transform cursor-pointer rounded-100px bg-[var(--g-bg-color-secondary)] p-8px hover:bg-[var(--g-bg-color-secondary-hover)]",onClick:l[0]||(l[0]=(...f)=>n(o)&&n(o)(...f))},[c(x,{class:"text-14px",name:n(t)?"ri:fullscreen-exit-line":"ri:fullscreen-line"},null,8,["name"])])):C("",!0)}}});function ue(){const b=G();function s(){b.push({name:"reload"})}return{reload:s}}const ut=P({name:"PageReload",__name:"index",setup(b){const s=ue();return(t,o)=>{const a=B;return d(),_("span",{class:"mx-6px flex-center transform cursor-pointer rounded-100px bg-[var(--g-bg-color-secondary)] p-8px hover:bg-[var(--g-bg-color-secondary-hover)]",onClick:o[0]||(o[0]=l=>n(s).reload())},[c(a,{class:"text-14px",name:"iconoir:refresh-double"})])}}}),dt={};function ct(b,s){const t=j("VDropdown");return d(),$(t,F({"show-triggers":["hover"],"hide-triggers":["hover"],"auto-hide":!1,"popper-triggers":["hover"],delay:200},b.$attrs),{popper:M(()=>[O(b.$slots,"dropdown")]),default:M(()=>[O(b.$slots,"default")]),_:3},16)}const mt=q(dt,[["render",ct]]),xe=P({__name:"HTabList",props:K({options:{}},{modelValue:{},modelModifiers:{}}),emits:K(["change"],["update:modelValue"]),setup(b,{emit:s}){const t=b,o=s,a=Z(b,"modelValue"),l=H({get(){return t.options.findIndex(f=>f.value===a.value)},set(f){a.value=t.options[f].value}});E(a,f=>{f&&o("change",f)});function x(f){a.value=t.options[f].value}return(f,i)=>{const g=B;return d(),$(n(Je),{"selected-index":n(l),onChange:x},{default:M(()=>[c(n(Ke),{class:"inline-flex select-none items-center justify-center rounded-md bg-stone-1 p-1 ring-1 ring-stone-2 dark:bg-stone-9 dark:ring-stone-8"},{default:M(()=>[(d(!0),_(R,null,A(f.options,(h,w)=>(d(),$(n(Fe),{key:w,as:"template"},{default:M(({selected:S})=>[r("button",{class:I(["w-full inline-flex items-center justify-center gap-1 break-keep border-size-0 rounded-md bg-inherit px-2 py-1.5 text-sm text-dark ring-stone-2 ring-inset dark:text-white focus:outline-none focus:ring-2 dark:ring-stone-8",{"cursor-default bg-white dark:bg-dark-9":S,"cursor-pointer opacity-50 hover:opacity-100":!S}])},[h.icon?(d(),$(g,{key:0,name:h.icon,class:"flex-shrink-0"},null,8,["name"])):C("",!0),U(" "+L(h.label),1)],2)]),_:2},1024))),128))]),_:1})]),_:1},8,["selected-index"])}}});function pt(b){function s(){if(!document.startViewTransition||window.matchMedia("(prefers-reduced-motion: reduce)").matches){b();return}return document.startViewTransition(async()=>{await Promise.resolve(b())})}return{startViewTransition:s}}const ft=P({name:"ColorScheme",__name:"index",setup(b){const s=N();function t(o){var i;const a=o.clientX,l=o.clientY,x=Math.hypot(Math.max(a,innerWidth-a),Math.max(l,innerHeight-l)),{startViewTransition:f}=pt(()=>{s.currentColorScheme&&s.setColorScheme(s.currentColorScheme==="dark"?"light":"dark")});(i=f())==null||i.ready.then(()=>{const g=[`circle(0px at ${a}px ${l}px)`,`circle(${x}px at ${a}px ${l}px)`],h={clipPath:s.settings.app.colorScheme==="dark"?[...g].reverse():g},w={duration:500,easing:"ease-out",pseudoElement:s.settings.app.colorScheme!=="dark"?"::view-transition-new(root)":"::view-transition-old(root)"};document.documentElement.animate(h,w)})}return(o,a)=>{const l=B,x=xe,f=mt;return d(),$(f,{class:"flex-center cursor-pointer px-2 py-1"},{dropdown:M(()=>[c(x,{modelValue:n(s).settings.app.colorScheme,"onUpdate:modelValue":a[0]||(a[0]=i=>n(s).settings.app.colorScheme=i),options:[{icon:"ri:sun-line",label:"",value:"light"},{icon:"ri:moon-line",label:"",value:"dark"},{icon:"codicon:color-mode",label:"",value:""}],class:"m-3"},null,8,["modelValue"])]),default:M(()=>[c(l,{name:{"":"codicon:color-mode",light:"ri:sun-line",dark:"ri:moon-line"}[n(s).settings.app.colorScheme],onClick:t},null,8,["name"])]),_:1})}}}),bt={class:"flex items-center"},vt={class:"flex-center gap-1 text-inherit"},gt=["src","onerror"],ke=P({name:"Tools",__name:"rightSide",setup(b){const s=G(),t=N(),o=Le(),a=T(!1);return E(()=>o.avatar,()=>{a.value&&(a.value=!1)}),(l,x)=>{const f=B,i=it;return d(),_("div",bt,[n(t).settings.toolbar.fullscreen?(d(),$(rt,{key:0})):C("",!0),n(t).settings.toolbar.pageReload?(d(),$(ut,{key:1})):C("",!0),n(t).settings.toolbar.colorScheme?(d(),$(ft,{key:2})):C("",!0),c(i,{items:[[{label:n(t).settings.home.title,handle:()=>n(s).push({path:n(t).settings.home.fullPath}),hide:!n(t).settings.home.enable}],[{label:"退出登录",handle:()=>n(o).logout()}]],class:"flex-center cursor-pointer px-2"},{default:M(()=>[r("div",vt,[n(o).avatar&&!n(a)?(d(),_("img",{key:0,src:n(o).avatar,onerror:()=>a.value=!0,class:"h-[24px] w-[24px] rounded-full"},null,8,gt)):(d(),$(f,{key:1,name:"carbon:user-avatar-filled-alt",size:24})),U(" "+L(n(o).account)+" ",1),c(f,{name:"ep:caret-bottom"})])]),_:1},8,["items"])])}}});function de(){const b=G(),s=N(),t=W();function o(a){t.setActived(a),s.settings.menu.switchMainMenuAndPageJump&&b.push(t.sidebarMenusFirstDeepestPath)}return{switchTo:o}}const ht={class:"menu-container"},_t={class:"h-full flex of-hidden transition-all"},yt={class:"inline-flex flex-1 items-center justify-center gap-1"},xt={class:"w-full flex-1 truncate text-15px transition-height transition-opacity transition-width"},kt=P({name:"HeaderMenu",__name:"index",setup(b){const s=W(),{switchTo:t}=de();return(o,a)=>{const l=B,x=j("el-tab-pane"),f=j("el-tabs");return d(),_("div",ht,[r("div",_t,[c(f,{modelValue:n(s).actived,"onUpdate:modelValue":a[0]||(a[0]=i=>n(s).actived=i),onTabClick:a[1]||(a[1]=i=>{n(t)(Number(i.index))})},{default:M(()=>[(d(!0),_(R,null,A(n(s).allMenus,(i,g)=>(d(),$(x,{key:g,name:g},{label:M(()=>{var h,w,S,V,e;return[r("div",yt,[(h=i.meta)!=null&&h.icon?(d(),$(l,{key:0,name:(w=i.meta)==null?void 0:w.icon,size:20,async:""},null,8,["name"])):C("",!0),r("span",xt,L(typeof((S=i.meta)==null?void 0:S.title)=="function"?(V=i.meta)==null?void 0:V.title():(e=i.meta)==null?void 0:e.title),1)])]}),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])])])}}}),wt=q(kt,[["__scopeId","data-v-6dc3e025"]]),St={key:0},Mt={class:"header-container"},Vt={class:"main"},$t=P({name:"LayoutHeader",__name:"index",setup(b){const s=N();return(t,o)=>(d(),$(le,{name:"header"},{default:M(()=>[n(s).mode==="pc"&&n(s).settings.menu.menuMode==="head"?(d(),_("header",St,[r("div",Mt,[r("div",Vt,[c(re,{class:"title"}),c(wt,{class:"header-menu"})]),c(ke)])])):C("",!0)]),_:1}))}}),Ct=q($t,[["__scopeId","data-v-b069fcbb"]]),It={key:0,class:"main-sidebar-container"},Pt={class:"menu flex flex-col of-hidden transition-all"},Tt=["title","onClick"],Ht={class:"w-full inline-flex flex-1 flex-col items-center justify-center gap-[2px]"},Rt={class:"w-full flex-1 truncate text-center text-sm transition-height transition-opacity transition-width"},Bt=P({name:"MainSidebar",__name:"index",setup(b){const s=N(),t=W(),{switchTo:o}=de();return(a,l)=>{const x=B;return d(),$(le,{name:"main-sidebar"},{default:M(()=>[n(s).settings.menu.menuMode==="side"||n(s).mode==="mobile"&&n(s).settings.menu.menuMode!=="single"?(d(),_("div",It,[c(re,{"show-title":!1,class:"sidebar-logo"}),r("div",Pt,[(d(!0),_(R,null,A(n(t).allMenus,(f,i)=>{var g,h,w,S,V,e,u,m;return d(),_("div",{key:i,class:I(["relative mb-5px px-5px transition-all",{active:i===n(t).actived}])},[f.children&&f.children.length!==0?(d(),_("div",{key:0,class:I([{"text-[var(--g-main-sidebar-menu-active-color)]! bg-[var(--g-main-sidebar-menu-active-bg)]!":i===n(t).actived},"group menu-item-container mb-10px h-full w-full flex cursor-pointer items-center justify-between gap-1 rounded-8px py-5px text-[var(--g-main-sidebar-menu-color)] transition-all hover:bg-[var(--g-main-sidebar-menu-hover-bg)] hover:text-[var(--g-main-sidebar-menu-hover-color)] px-2!"]),title:typeof((g=f.meta)==null?void 0:g.title)=="function"?(h=f.meta)==null?void 0:h.title():(w=f.meta)==null?void 0:w.title,onClick:p=>n(o)(i)},[r("div",Ht,[(S=f.meta)!=null&&S.icon?(d(),$(x,{key:0,name:(V=f.meta)==null?void 0:V.icon,size:20,class:"menu-item-container-icon transition-transform group-hover:scale-110",async:""},null,8,["name"])):C("",!0),r("span",Rt,L(typeof((e=f.meta)==null?void 0:e.title)=="function"?(u=f.meta)==null?void 0:u.title():(m=f.meta)==null?void 0:m.title),1)])],10,Tt)):C("",!0)],2)}),128))])])):C("",!0)]),_:1})}}}),Nt=q(Bt,[["__scopeId","data-v-e2c31d51"]]),Ut={key:1},we=P({__name:"HTooltip",props:{text:{default:""},enable:{type:Boolean,default:!0}},setup(b){return(s,t)=>{const o=j("VTooltip");return s.enable?(d(),$(o,F({key:0,"popper-triggers":["hover"]},s.$attrs),{popper:M(()=>[O(s.$slots,"text",{},()=>[U(L(s.text),1)])]),default:M(()=>[O(s.$slots,"default")]),_:3},16)):(d(),_("div",Ut,[O(s.$slots,"default")]))}}});const ce="rootMenu",Et={class:"flex","items-center":""},Se=P({__name:"item",props:{uniqueKey:{},item:{},level:{default:0},subMenu:{type:Boolean,default:!1},expand:{type:Boolean,default:!1}},setup(b,{expose:s}){const t=b,o=be(ce),a=T(),l=H(()=>t.subMenu?o.subMenus[t.uniqueKey.at(-1)].active:o.activeIndex===t.uniqueKey.at(-1)),x=H(()=>l.value&&(!t.subMenu||o.isMenuPopup)),f=H(()=>o.isMenuPopup?"":`padding-left: ${20*(t.level??0)}px`);return s({ref:a}),(i,g)=>{const h=B,w=we,S=j("router-link");return d(),_("div",{ref_key:"itemRef",ref:a,class:I(["11 menu-item relative transition-all",{active:n(x)}])},[c(S,{custom:"",to:i.uniqueKey.at(-1)??""},{default:M(({navigate:V})=>{var e,u,m;return[c(w,{enable:n(o).isMenuPopup&&i.level===0&&!i.subMenu,text:typeof((e=i.item.meta)==null?void 0:e.title)=="function"?(u=i.item.meta)==null?void 0:u.title():(m=i.item.meta)==null?void 0:m.title,placement:"right",class:"h-full w-full px-10px py-5px"},{default:M(()=>{var p,v,k;return[(d(),$(ve(i.subMenu?"div":"a"),F({...!i.subMenu&&{class:"no-underline"}},{class:["group menu-item-container h-full w-full flex cursor-pointer items-center justify-between gap-1 rounded-4px px-5 py-10px text-[var(--g-sub-sidebar-menu-color)] transition-all hover:bg-[var(--g-sub-sidebar-menu-hover-bg)] hover:text-[var(--g-sub-sidebar-menu-hover-color)]",{"text-[var(--g-sub-sidebar-menu-active-color)]! bg-[var(--g-sub-sidebar-menu-active-bg)]!":n(x),"px-3!":n(o).isMenuPopup&&i.level===0}],title:typeof((p=i.item.meta)==null?void 0:p.title)=="function"?(v=i.item.meta)==null?void 0:v.title():(k=i.item.meta)==null?void 0:k.title},ge({...!i.subMenu&&{click:V}})),{default:M(()=>{var D,z,te,ne;return[r("div",{class:I(["inline-flex flex-1 items-center justify-center gap-[8px]",{"flex-col":n(o).isMenuPopup&&i.level===0&&n(o).props.mode==="vertical","gap-1!":n(o).isMenuPopup&&i.level===0&&n(o).props.showCollapseName,"w-full":n(o).isMenuPopup&&i.level===0&&n(o).props.showCollapseName&&n(o).props.mode==="vertical"}]),style:Ce(n(f))},[r("div",Et,[(D=t.item.meta)!=null&&D.icon?(d(),$(h,{key:0,name:t.item.meta.icon,size:20,class:"menu-item-container-icon transition-transform group-hover:scale-110",async:""},null,8,["name"])):C("",!0)]),n(o).isMenuPopup&&i.level===0&&!n(o).props.showCollapseName?C("",!0):(d(),_("div",{key:0,class:I(["w-0 flex-1 truncate text-sm transition-height transition-opacity transition-width",{"opacity-0 w-0 h-0":n(o).isMenuPopup&&i.level===0&&!n(o).props.showCollapseName,"w-full text-center":n(o).isMenuPopup&&i.level===0&&n(o).props.showCollapseName}])},L(typeof((z=i.item.meta)==null?void 0:z.title)=="function"?(te=i.item.meta)==null?void 0:te.title():(ne=i.item.meta)==null?void 0:ne.title),3))],6),i.subMenu&&!(n(o).isMenuPopup&&i.level===0)?(d(),_("i",{key:0,class:I(["relative ml-1 w-[10px] after:absolute after:h-[1px] after:w-[8px] after:bg-current after:transition-transform-200 after:content-empty after:-translate-y-[1px] before:absolute before:h-[1px] before:w-[8px] before:bg-current before:transition-transform-200 before:content-empty before:-translate-y-[1px]",[i.expand?"before:-rotate-45 before:-translate-x-[4px] after:rotate-45 after:translate-x-[2px]":"before:rotate-45 before:-translate-x-[4px] after:-rotate-45 after:translate-x-[2px]",n(o).isMenuPopup&&i.level===0&&"opacity-0",n(o).isMenuPopup&&i.level!==0&&"-rotate-90 -top-[1.5px]"]])},null,2)):C("",!0)]}),_:2},1040,["class","title"]))]}),_:2},1032,["enable","text"])]}),_:1},8,["to"])],2)}}}),Lt=P({name:"SubMenu",__name:"sub",props:{uniqueKey:{},menu:{},level:{default:0}},setup(b){const s=b,t=s.menu.path??JSON.stringify(s.menu),o=ae(),a=ae(),l=be(ce),x=H(()=>l.openedMenus.includes(s.uniqueKey.at(-1))),f=H(()=>l.isMenuPopup?{enter(e){e.offsetHeight>window.innerHeight&&(e.style.height=`${window.innerHeight}px`)},afterEnter:()=>{},beforeLeave:e=>{e.style.overflow="hidden",e.style.maxHeight=`${e.offsetHeight}px`},leave:e=>{e.style.maxHeight="0"},afterLeave(e){e.style.overflow="",e.style.maxHeight=""}}:{enter(e){const u=e.offsetHeight;e.style.maxHeight="0",e.style.overflow="hidden",e.offsetHeight,e.style.maxHeight=`${u}px`},afterEnter(e){e.style.overflow="",e.style.maxHeight=""},beforeLeave(e){e.style.overflow="hidden",e.style.maxHeight=`${e.offsetHeight}px`},leave(e){e.style.maxHeight="0"},afterLeave(e){e.style.overflow="",e.style.maxHeight=""}}),i=H(()=>l.isMenuPopup?{enterActiveClass:"ease-in-out duration-300",enterFromClass:"opacity-0 translate-x-4",enterToClass:"opacity-100",leaveActiveClass:"ease-in-out duration-300",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"}:{enterActiveClass:"ease-in-out duration-300",enterFromClass:"opacity-0",enterToClass:"opacity-100",leaveActiveClass:"ease-in-out duration-300",leaveFromClass:"opacity-100",leaveToClass:"opacity-0"}),g=H(()=>{let e=!0;return s.menu.children?s.menu.children.every(u=>{var m;return((m=u.meta)==null?void 0:m.menu)===!1})&&(e=!1):e=!1,e});function h(){l.isMenuPopup&&g.value||(g.value?l.handleSubMenuClick(t,s.uniqueKey):l.handleMenuItemClick(t))}let w;function S(){l.isMenuPopup&&(l.mouseInMenu=s.uniqueKey,w==null||w(),{stop:w}=pe(()=>{if(g.value)l.openMenu(t,s.uniqueKey),X(()=>{const e=o.value.ref;let u=0,m=0;l.props.mode==="vertical"||s.level!==0?(u=e.getBoundingClientRect().top+e.scrollTop,m=e.getBoundingClientRect().left+e.getBoundingClientRect().width,u+a.value.getElement().offsetHeight>window.innerHeight&&(u=window.innerHeight-a.value.getElement().offsetHeight)):(u=e.getBoundingClientRect().top+e.getBoundingClientRect().height,m=e.getBoundingClientRect().left,u+a.value.getElement().offsetHeight>window.innerHeight&&(a.value.getElement().style.height=`${window.innerHeight-u}px`)),a.value.getElement().style.top=`${u}px`,a.value.getElement().style.left=`${m}px`});else{const e=s.menu.children?l.subMenus[t].indexPath.at(-1):l.items[t].indexPath.at(-1);l.openMenu(e,l.subMenus[e].indexPath)}},300))}function V(){l.isMenuPopup&&(l.mouseInMenu=[],w==null||w(),{stop:w}=pe(()=>{l.mouseInMenu.length===0?l.closeMenu(s.uniqueKey):g.value&&!l.mouseInMenu.includes(s.uniqueKey.at(-1))&&l.closeMenu(s.uniqueKey.at(-1))},300))}return(e,u)=>{const m=j("SubMenu");return d(),_(R,null,[c(Se,{ref_key:"itemRef",ref:o,"unique-key":e.uniqueKey,item:e.menu,level:e.level,"sub-menu":n(g),expand:n(x),onClick:h,onMouseenter:S,onMouseleave:V},null,8,["unique-key","item","level","sub-menu","expand"]),n(g)?(d(),$(Ie,{key:0,to:"body",disabled:!n(l).isMenuPopup},[c(le,F(n(i),ge(n(f))),{default:M(()=>[n(x)?(d(),$(n(_e),{key:0,ref_key:"subMenuRef",ref:a,options:{scrollbars:{visibility:"hidden"}},defer:"",class:I(["sub-menu",{"bg-[var(--g-sub-sidebar-bg)]":n(l).isMenuPopup,"ring-1 ring-stone-2 dark:ring-stone-8 shadow-xl fixed z-3000 w-[200px] rounded-6px":n(l).isMenuPopup,"mx-2":n(l).isMenuPopup&&(n(l).props.mode==="vertical"||e.level!==0)}])},{default:M(()=>[(d(!0),_(R,null,A(e.menu.children,p=>{var v;return d(),_(R,{key:p.path??JSON.stringify(p)},[((v=p.meta)==null?void 0:v.menu)!==!1?(d(),$(m,{key:0,"unique-key":[...e.uniqueKey,p.path??JSON.stringify(p)],menu:p,level:e.level+1},null,8,["unique-key","menu","level"])):C("",!0)],64)}),128))]),_:1},8,["class"])):C("",!0)]),_:1},16)],8,["disabled"])):C("",!0)],64)}}}),qt=P({name:"MainMenu",__name:"index",props:{menu:{},value:{},accordion:{type:Boolean,default:!0},defaultOpeneds:{default:()=>[]},mode:{default:"vertical"},collapse:{type:Boolean,default:!1},showCollapseName:{type:Boolean,default:!1}},setup(b){const s=b,t=T(s.value),o=T({}),a=T({}),l=T(s.defaultOpeneds.slice(0)),x=T([]),f=H(()=>s.mode==="horizontal"||s.mode==="vertical"&&s.collapse);function i(u,m=[]){u.forEach(p=>{const v=p.path??JSON.stringify(p);if(p.children){const k=[...m,v];a.value[v]={index:v,indexPath:k,active:!1},i(p.children,k)}else o.value[v]={index:v,indexPath:m}})}const g=(u,m)=>{l.value.includes(u)||(s.accordion&&(l.value=l.value.filter(p=>m.includes(p))),l.value.push(u))},h=u=>{if(Array.isArray(u)){X(()=>{h(u.at(-1)),u.length>1&&h(u.slice(0,-1))});return}Object.keys(a.value).forEach(m=>{a.value[m].indexPath.includes(u)&&(l.value=l.value.filter(p=>p!==u))})};function w(u){var m,p;for(const v in a.value)a.value[v].active=!1;(m=a.value[u])==null||m.indexPath.forEach(v=>{a.value[v].active=!0}),(p=o.value[u])==null||p.indexPath.forEach(v=>{a.value[v].active=!0})}const S=u=>{(s.mode==="horizontal"||s.collapse)&&(l.value=[]),w(u)},V=(u,m)=>{l.value.includes(u)?h(u):g(u,m)};function e(){const u=t.value&&o.value[t.value];w(t.value),!(!u||s.collapse)&&u.indexPath.forEach(m=>{const p=a.value[m];p&&g(m,p.indexPath)})}return E(()=>s.menu,u=>{i(u),e()},{deep:!0,immediate:!0}),E(()=>s.value,u=>{o.value[u]||(t.value="");const m=o.value[u]||t.value&&o.value[t.value]||o.value[s.value];m?t.value=m.index:t.value=u,e()}),E(()=>s.collapse,u=>{u&&(l.value=[]),e()}),Pe(ce,Te({props:s,items:o,subMenus:a,activeIndex:t,openedMenus:l,mouseInMenu:x,isMenuPopup:f,openMenu:g,closeMenu:h,handleMenuItemClick:S,handleSubMenuClick:V})),(u,m)=>(d(),_("div",{class:I(["flex flex-col of-hidden transition-all",{"w-[200px]":!n(f)&&s.mode==="vertical","w-[64px]":n(f)&&s.mode==="vertical","h-[80px]":s.mode==="horizontal","flex-row! w-auto":n(f)&&s.mode==="horizontal"}])},[(d(!0),_(R,null,A(u.menu,p=>{var v,k;return d(),_(R,{key:p.path??JSON.stringify(p)},[((v=p.meta)==null?void 0:v.menu)!==!1?(d(),_(R,{key:0},[(k=p.children)!=null&&k.length?(d(),$(Lt,{key:0,menu:p,"unique-key":[p.path??JSON.stringify(p)]},null,8,["menu","unique-key"])):(d(),$(Se,{key:1,item:p,"unique-key":[p.path??JSON.stringify(p)],onClick:D=>S(p.path??JSON.stringify(p))},null,8,["item","unique-key","onClick"]))],64)):C("",!0)],64)}),128))],2))}}),zt=P({name:"SubSidebar",__name:"index",setup(b){const s=J(),t=N(),o=W(),a=T(),l=T(!1),x=T(!1);function f(){const g=a.value.scrollTop;l.value=g>0;const h=a.value.clientHeight,w=a.value.scrollHeight;x.value=Math.ceil(g+h)<w}const i=T();return ee(()=>{f();const{height:g}=Oe(i);E(()=>g.value,()=>{g.value>0&&f()},{immediate:!0})}),(g,h)=>{const w=B;return d(),_("div",{class:I(["sub-sidebar-container",{"is-collapse":n(t).mode==="pc"&&n(t).settings.menu.subMenuCollapse}])},[c(re,{"show-logo":n(t).settings.menu.menuMode==="single",class:I(["sidebar-logo",{"sidebar-logo-bg":n(t).settings.menu.menuMode==="single"}])},null,8,["show-logo","class"]),r("div",{ref_key:"subSidebarRef",ref:a,class:I(["sub-sidebar flex-1 transition-shadow-300",{"shadow-top":n(l),"shadow-bottom":n(x)}]),onScroll:f},[r("div",{ref_key:"menuRef",ref:i},[c(ie,{name:"sub-sidebar"},{default:M(()=>[(d(!0),_(R,null,A(n(o).allMenus,(S,V)=>Y((d(),_("div",{key:V},[c(qt,{menu:S.children,value:n(s).meta.activeMenu||n(s).path,"default-openeds":n(o).defaultOpenedPaths,accordion:n(t).settings.menu.subMenuUniqueOpened,collapse:n(t).mode==="pc"&&n(t).settings.menu.subMenuCollapse,class:"menu"},null,8,["menu","value","default-openeds","accordion","collapse"])],512)),[[Q,V===n(o).actived]])),128))]),_:1})],512)],34),n(t).mode==="pc"?(d(),_("div",{key:0,class:I(["absolute right-[-25px] top-40% z-100 flex items-center px-4 py-3",[n(t).settings.menu.subMenuCollapse?"justify-center":"justify-end"]])},[Y(r("span",{class:I(["toolbar-collapse flex-center cursor-pointer rounded rounded-100px bg-stone-1 p-4px transition dark:bg-stone-9 hover:bg-stone-2 dark:hover:bg-stone-8",{"-rotate-z-180":n(t).settings.menu.subMenuCollapse}]),onClick:h[0]||(h[0]=S=>n(t).toggleSidebarCollapse())},[c(w,{class:"text-stone-5 dark:text-stone-3",name:"ep:d-arrow-left"})],2),[[Q,n(t).settings.menu.enableSubMenuCollapseButton]])],2)):C("",!0)],2)}}}),At=q(zt,[["__scopeId","data-v-76da8ec9"]]),Ot={flex:"~ items-center justify-between","p-4":"","border-b":"~ solid stone/15","text-6":""},jt={key:0,flex:"~ items-center justify-end","px-3":"","py-2":"","border-t":"~ solid stone/15"},Dt=P({__name:"HSlideover",props:K({appear:{type:Boolean,default:!1},side:{default:"right"},title:{},preventClose:{type:Boolean,default:!1},overlay:{type:Boolean,default:!1}},{modelValue:{type:Boolean,default:!1},modelModifiers:{}}),emits:K(["close"],["update:modelValue"]),setup(b,{emit:s}){const t=b,o=s,a=Z(b,"modelValue"),l=He(),x=T({enter:"ease-in-out duration-500",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in-out duration-500",leaveFrom:"opacity-100",leaveTo:"opacity-0"}),f=H(()=>({enter:"transform transition ease-in-out duration-300",leave:"transform transition ease-in-out duration-200",enterFrom:t.side==="left"?"-translate-x-full":"translate-x-full",enterTo:"translate-x-0",leaveFrom:"translate-x-0",leaveTo:t.side==="left"?"-translate-x-full":"translate-x-full"}));function i(){a.value=!1,o("close")}return(g,h)=>{const w=B;return d(),$(n(Qe),{as:"template",appear:g.appear,show:a.value},{default:M(()=>[c(n(Ye),{class:I(["fixed inset-0 z-2000 flex",{"justify-end":g.side==="right"}]),onClose:h[0]||(h[0]=S=>!g.preventClose&&i())},{default:M(()=>[c(n(fe),F({as:"template",appear:g.appear},n(x)),{default:M(()=>[r("div",{class:I(["fixed inset-0 bg-stone-2/75 transition-opacity dark:bg-stone-8/75",{"backdrop-blur-sm":g.overlay}])},null,2)]),_:1},16,["appear"]),c(n(fe),F({as:"template",appear:g.appear},n(f)),{default:M(()=>[c(n(We),{relative:"","max-w-md":"","w-full":"","w-screen":"",flex:"","flex-1":"","flex-col":"","bg-white":"","dark:bg-stone-8":"","focus:outline-none":""},{default:M(()=>[r("div",Ot,[c(n(Ge),{"m-0":"","text-lg":"","text-dark":"","dark:text-white":""},{default:M(()=>[U(L(g.title),1)]),_:1}),c(w,{name:"carbon:close","cursor-pointer":"",onClick:i})]),c(n(Xe),{"m-0":"","flex-1":"","of-y-hidden":""},{default:M(()=>[c(n(_e),{options:{scrollbars:{autoHide:"leave",autoHideDelay:300}},defer:"",class:"h-full p-4"},{default:M(()=>[O(g.$slots,"default")]),_:3})]),_:3}),n(l).footer?(d(),_("div",jt,[O(g.$slots,"footer")])):C("",!0)]),_:3})]),_:3},16,["appear"])]),_:3},8,["class"])]),_:3},8,["appear","show"])}}}),Kt={class:"relative w-full lg:w-48"},Ft=["placeholder","disabled"],Jt=P({__name:"HInput",props:K({placeholder:{},disabled:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(b,{expose:s}){const t=Z(b,"modelValue"),o=T();return s({ref:o}),(a,l)=>(d(),_("div",Kt,[Y(r("input",{"onUpdate:modelValue":l[0]||(l[0]=x=>t.value=x),type:"text",placeholder:a.placeholder,disabled:a.disabled,class:"relative block w-full border-0 rounded-md bg-white px-2.5 py-1.5 text-sm shadow-sm ring-1 ring-stone-2 ring-inset disabled:cursor-not-allowed dark:bg-dark disabled:opacity-50 focus:outline-none focus:ring-2 dark:ring-stone-8 focus:ring-ui-primary placeholder-stone-4 dark:placeholder-stone-5"},null,8,Ft),[[Re,t.value]])]))}}),Yt={class:"inline-flex select-none items-center justify-center of-hidden rounded-md bg-stone-3 dark:bg-stone-7"},Wt=["disabled","onClick"],Gt=P({__name:"HCheckList",props:K({options:{},disabled:{type:Boolean,default:!1}},{modelValue:{},modelModifiers:{}}),emits:K(["change"],["update:modelValue"]),setup(b,{emit:s}){const t=s,o=Z(b,"modelValue");return E(o,a=>{t("change",a)}),(a,l)=>{const x=B;return d(),_("div",Yt,[(d(!0),_(R,null,A(a.options,f=>(d(),_("button",{key:f.value,disabled:a.disabled||f.disabled,class:I(["flex cursor-pointer items-center truncate border-size-0 bg-inherit px-2 py-1.5 text-sm disabled:cursor-not-allowed disabled:opacity-50 hover:not-disabled:bg-ui-primary hover:not-disabled:text-ui-text",{"text-ui-text bg-ui-primary":o.value===f.value}]),onClick:i=>o.value=f.value},[f.icon?(d(),$(x,{key:0,name:f.icon},null,8,["name"])):(d(),_(R,{key:1},[U(L(f.label),1)],64))],10,Wt))),128))])}}}),Xt={class:"absolute inset-0 h-full w-full flex items-center justify-center"},Qt=P({__name:"HToggle",props:K({disabled:{type:Boolean,default:!1},onIcon:{},offIcon:{}},{modelValue:{type:Boolean},modelModifiers:{}}),emits:["update:modelValue"],setup(b){const s=Z(b,"modelValue");return(t,o)=>{const a=B;return d(),$(n(Ze),{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=l=>s.value=l),disabled:t.disabled,class:I(["relative h-5 w-10 inline-flex flex-shrink-0 cursor-pointer border-2 border-transparent rounded-full p-0 vertical-middle disabled:cursor-not-allowed disabled:opacity-50 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-gray-900",[s.value?"bg-ui-primary":"bg-stone-3 dark:bg-stone-7"]])},{default:M(()=>[r("span",{class:I(["pointer-events-none relative inline-block h-4 w-4 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out dark:bg-dark",[s.value?"translate-x-5":"translate-x-0"]])},[r("span",Xt,[s.value&&t.onIcon||!s.value&&t.offIcon?(d(),$(a,{key:0,name:s.value?t.onIcon:t.offIcon,class:"h-3 w-3 text-stone-7 dark:text-stone-3"},null,8,["name"])):C("",!0)])],2)]),_:1},8,["modelValue","disabled","class"])}}}),Me=tt(),Zt={class:"flex items-center justify-center pb-4"},en={class:"flex items-center justify-center pb-4"},tn={class:"text-center"},nn={key:0,class:"divider"},sn={key:1,class:"menu-mode"},on={class:"setting-item"},ln={class:"label"},an={class:"setting-item"},rn={class:"label"},un={class:"setting-item"},dn={key:2,class:"setting-item"},cn={class:"setting-item"},mn={class:"setting-item"},pn={class:"setting-item"},fn={class:"setting-item"},bn={class:"setting-item"},vn={key:3,class:"setting-item"},gn={key:4,class:"setting-item"},hn={class:"setting-item"},_n={class:"label"},yn={key:5,class:"setting-item"},xn={class:"setting-item"},kn={class:"label"},wn={class:"setting-item"},Sn={class:"label"},Mn={class:"setting-item"},Vn={class:"setting-item"},$n={class:"setting-item"},Cn={class:"setting-item"},In={class:"setting-item"},Pn={class:"setting-item"},Tn={class:"setting-item"},Hn={class:"setting-item"},Rn={class:"setting-item"},Bn={class:"label"},Nn={class:"setting-item"},Un={class:"label"},En=P({name:"AppSetting",__name:"index",setup(b){const s=J(),t=N(),o=W(),{changePrimary:a}=qe(),l=T(!1),x=["#3b82f6","#6366f1","#8b5cf6","#a855f7","#0ea5e9","#06b6d4","#f43f5e","#ef4444","#ec4899","#d946ef","#f97316","#f59e0b","#eab308","#84cc16","#22c55e","#10b981"];E(()=>t.settings.menu.menuMode,V=>{V==="single"?o.setActived(0):o.setActived(s.fullPath)}),ee(()=>{Me.on("global-app-setting-toggle",()=>{l.value=!l.value})});const{copy:f,copied:i,isSupported:g}=je();E(i,V=>{V&&oe.success("复制成功，请粘贴到 src/settings.ts 文件中！",{zIndex:2e3})});function h(V){return typeof V=="object"&&!Array.isArray(V)}function w(V,e){if(!h(V)||!h(e))return e;const u={};for(const m in e){const p=V[m],v=e[m];if(JSON.stringify(p)!==JSON.stringify(v))if(h(p)&&h(v)){const k=w(p,v);Object.keys(k).length>0&&(u[m]=k)}else u[m]=v}return u}function S(){f(JSON.stringify(w(ze,t.settings),null,2))}return(V,e)=>{const u=xe,m=j("el-color-picker"),p=B,v=we,k=Qt,D=Gt,z=Jt,te=et,ne=Dt;return d(),$(ne,{modelValue:n(l),"onUpdate:modelValue":e[30]||(e[30]=y=>Ne(l)?l.value=y:null),title:"应用配置"},Be({default:M(()=>[e[61]||(e[61]=r("div",{class:"rounded-2 bg-rose/20 px-4 py-2 text-sm/6 c-rose"},[r("p",{class:"my-1"}," 应用配置可实时预览效果，但只是临时生效，要想真正应用于项目，可以点击下方的「复制配置」按钮，并将配置粘贴到 src/settings.ts 文件中。 "),r("p",{class:"my-1"}," 注意：在生产环境中应关闭该模块。 ")],-1)),e[62]||(e[62]=r("div",{class:"divider"}," 颜色主题风格 ",-1)),r("div",Zt,[c(u,{modelValue:n(t).settings.app.colorScheme,"onUpdate:modelValue":e[0]||(e[0]=y=>n(t).settings.app.colorScheme=y),options:[{icon:"ri:sun-line",label:"明亮",value:"light"},{icon:"ri:moon-line",label:"暗黑",value:"dark"},{icon:"ri:contrast-fill",label:"系统",value:""}],class:"w-60"},null,8,["modelValue"])]),e[63]||(e[63]=r("div",{class:"divider"}," 主题颜色 ",-1)),r("div",en,[r("div",tn,[c(m,{modelValue:n(t).settings.app.themeColor,"onUpdate:modelValue":e[1]||(e[1]=y=>n(t).settings.app.themeColor=y),predefine:x,onChange:n(a)},null,8,["modelValue","onChange"])])]),n(t).mode==="pc"?(d(),_("div",nn," 导航栏模式 ")):C("",!0),n(t).mode==="pc"?(d(),_("div",sn,[c(v,{text:"侧边栏模式 (含主导航)",placement:"bottom",delay:500},{default:M(()=>[r("div",{class:I(["mode mode-side",{active:n(t).settings.menu.menuMode==="side"}]),onClick:e[2]||(e[2]=y=>n(t).settings.menu.menuMode="side")},[e[31]||(e[31]=r("div",{class:"mode-container"},null,-1)),c(p,{name:"ep:check"})],2)]),_:1}),c(v,{text:"顶部模式",placement:"bottom",delay:500},{default:M(()=>[r("div",{class:I(["mode mode-head",{active:n(t).settings.menu.menuMode==="head"}]),onClick:e[3]||(e[3]=y=>n(t).settings.menu.menuMode="head")},[e[32]||(e[32]=r("div",{class:"mode-container"},null,-1)),c(p,{name:"ep:check"})],2)]),_:1}),c(v,{text:"侧边栏模式 (不含主导航)",placement:"bottom",delay:500},{default:M(()=>[r("div",{class:I(["mode mode-single",{active:n(t).settings.menu.menuMode==="single"}]),onClick:e[4]||(e[4]=y=>n(t).settings.menu.menuMode="single")},[e[33]||(e[33]=r("div",{class:"mode-container"},null,-1)),c(p,{name:"ep:check"})],2)]),_:1})])):C("",!0),e[64]||(e[64]=r("div",{class:"divider"}," 导航栏 ",-1)),r("div",on,[r("div",ln,[e[34]||(e[34]=U(" 主导航切换跳转 ")),c(v,{text:"开启该功能后，切换主导航时，页面自动跳转至该主导航下，次导航里第一个导航"},{default:M(()=>[c(p,{name:"ri:question-line"})]),_:1})]),c(k,{modelValue:n(t).settings.menu.switchMainMenuAndPageJump,"onUpdate:modelValue":e[5]||(e[5]=y=>n(t).settings.menu.switchMainMenuAndPageJump=y),disabled:["single"].includes(n(t).settings.menu.menuMode)},null,8,["modelValue","disabled"])]),r("div",an,[r("div",rn,[e[35]||(e[35]=U(" 次导航保持展开一个 ")),c(v,{text:"开启该功能后，次导航只保持单个菜单的展开"},{default:M(()=>[c(p,{name:"ri:question-line"})]),_:1})]),c(k,{modelValue:n(t).settings.menu.subMenuUniqueOpened,"onUpdate:modelValue":e[6]||(e[6]=y=>n(t).settings.menu.subMenuUniqueOpened=y)},null,8,["modelValue"])]),r("div",un,[e[36]||(e[36]=r("div",{class:"label"}," 次导航是否折叠 ",-1)),c(k,{modelValue:n(t).settings.menu.subMenuCollapse,"onUpdate:modelValue":e[7]||(e[7]=y=>n(t).settings.menu.subMenuCollapse=y)},null,8,["modelValue"])]),n(t).mode==="pc"?(d(),_("div",dn,[e[37]||(e[37]=r("div",{class:"label"}," 显示次导航折叠按钮 ",-1)),c(k,{modelValue:n(t).settings.menu.enableSubMenuCollapseButton,"onUpdate:modelValue":e[8]||(e[8]=y=>n(t).settings.menu.enableSubMenuCollapseButton=y)},null,8,["modelValue"])])):C("",!0),r("div",cn,[e[38]||(e[38]=r("div",{class:"label"}," 是否启用快捷键 ",-1)),c(k,{modelValue:n(t).settings.menu.enableHotkeys,"onUpdate:modelValue":e[9]||(e[9]=y=>n(t).settings.menu.enableHotkeys=y),disabled:["single"].includes(n(t).settings.menu.menuMode)},null,8,["modelValue","disabled"])]),e[65]||(e[65]=r("div",{class:"divider"}," 顶栏 ",-1)),r("div",mn,[e[39]||(e[39]=r("div",{class:"label"}," 模式 ",-1)),c(D,{modelValue:n(t).settings.topbar.mode,"onUpdate:modelValue":e[10]||(e[10]=y=>n(t).settings.topbar.mode=y),options:[{label:"静止",value:"static"},{label:"固定",value:"fixed"},{label:"粘性",value:"sticky"}]},null,8,["modelValue"])]),r("div",null,[e[43]||(e[43]=r("div",{class:"divider"}," 标签栏 ",-1)),r("div",pn,[e[40]||(e[40]=r("div",{class:"label"}," 是否启用 ",-1)),c(k,{modelValue:n(t).settings.tabbar.enable,"onUpdate:modelValue":e[11]||(e[11]=y=>n(t).settings.tabbar.enable=y)},null,8,["modelValue"])]),r("div",fn,[e[41]||(e[41]=r("div",{class:"label"}," 是否显示图标 ",-1)),c(k,{modelValue:n(t).settings.tabbar.enableIcon,"onUpdate:modelValue":e[12]||(e[12]=y=>n(t).settings.tabbar.enableIcon=y),disabled:!n(t).settings.tabbar.enable},null,8,["modelValue","disabled"])]),r("div",bn,[e[42]||(e[42]=r("div",{class:"label"}," 是否启用快捷键 ",-1)),c(k,{modelValue:n(t).settings.tabbar.enableHotkeys,"onUpdate:modelValue":e[13]||(e[13]=y=>n(t).settings.tabbar.enableHotkeys=y),disabled:!n(t).settings.tabbar.enable},null,8,["modelValue","disabled"])])]),e[66]||(e[66]=r("div",{class:"divider"}," 工具栏 ",-1)),n(t).mode==="pc"?(d(),_("div",vn,[e[44]||(e[44]=r("div",{class:"label"}," 面包屑导航 ",-1)),c(k,{modelValue:n(t).settings.toolbar.breadcrumb,"onUpdate:modelValue":e[14]||(e[14]=y=>n(t).settings.toolbar.breadcrumb=y)},null,8,["modelValue"])])):C("",!0),n(t).mode==="pc"?(d(),_("div",gn,[e[45]||(e[45]=r("div",{class:"label"}," 国际化 ",-1)),c(k,{modelValue:n(t).settings.toolbar.translationLang,"onUpdate:modelValue":e[15]||(e[15]=y=>n(t).settings.toolbar.translationLang=y)},null,8,["modelValue"])])):C("",!0),r("div",hn,[r("div",_n,[e[46]||(e[46]=U(" 导航搜索 ")),c(v,{text:"对导航进行快捷搜索"},{default:M(()=>[c(p,{name:"ri:question-line"})]),_:1})]),c(k,{modelValue:n(t).settings.toolbar.navSearch,"onUpdate:modelValue":e[16]||(e[16]=y=>n(t).settings.toolbar.navSearch=y)},null,8,["modelValue"])]),n(t).mode==="pc"?(d(),_("div",yn,[e[47]||(e[47]=r("div",{class:"label"}," 全屏 ",-1)),c(k,{modelValue:n(t).settings.toolbar.fullscreen,"onUpdate:modelValue":e[17]||(e[17]=y=>n(t).settings.toolbar.fullscreen=y)},null,8,["modelValue"])])):C("",!0),r("div",xn,[r("div",kn,[e[48]||(e[48]=U(" 页面刷新 ")),c(v,{text:"使用框架内提供的刷新功能进行页面刷新"},{default:M(()=>[c(p,{name:"ri:question-line"})]),_:1})]),c(k,{modelValue:n(t).settings.toolbar.pageReload,"onUpdate:modelValue":e[18]||(e[18]=y=>n(t).settings.toolbar.pageReload=y)},null,8,["modelValue"])]),r("div",wn,[r("div",Sn,[e[49]||(e[49]=U(" 颜色主题 ")),c(v,{text:"开启后可在明亮/暗黑模式中切换"},{default:M(()=>[c(p,{name:"ri:question-line"})]),_:1})]),c(k,{modelValue:n(t).settings.toolbar.colorScheme,"onUpdate:modelValue":e[19]||(e[19]=y=>n(t).settings.toolbar.colorScheme=y)},null,8,["modelValue"])]),e[67]||(e[67]=r("div",{class:"divider"}," 页面 ",-1)),r("div",Mn,[e[50]||(e[50]=r("div",{class:"label"}," 是否启用快捷键 ",-1)),c(k,{modelValue:n(t).settings.mainPage.enableHotkeys,"onUpdate:modelValue":e[20]||(e[20]=y=>n(t).settings.mainPage.enableHotkeys=y)},null,8,["modelValue"])]),e[68]||(e[68]=r("div",{class:"divider"}," 导航搜索 ",-1)),r("div",Vn,[e[51]||(e[51]=r("div",{class:"label"}," 是否启用快捷键 ",-1)),c(k,{modelValue:n(t).settings.navSearch.enableHotkeys,"onUpdate:modelValue":e[21]||(e[21]=y=>n(t).settings.navSearch.enableHotkeys=y),disabled:!n(t).settings.toolbar.navSearch},null,8,["modelValue","disabled"])]),e[69]||(e[69]=r("div",{class:"divider"}," 底部版权 ",-1)),r("div",$n,[e[52]||(e[52]=r("div",{class:"label"}," 是否启用 ",-1)),c(k,{modelValue:n(t).settings.copyright.enable,"onUpdate:modelValue":e[22]||(e[22]=y=>n(t).settings.copyright.enable=y)},null,8,["modelValue"])]),r("div",Cn,[e[53]||(e[53]=r("div",{class:"label"}," 日期 ",-1)),c(z,{modelValue:n(t).settings.copyright.dates,"onUpdate:modelValue":e[23]||(e[23]=y=>n(t).settings.copyright.dates=y),disabled:!n(t).settings.copyright.enable},null,8,["modelValue","disabled"])]),r("div",In,[e[54]||(e[54]=r("div",{class:"label"}," 公司 ",-1)),c(z,{modelValue:n(t).settings.copyright.company,"onUpdate:modelValue":e[24]||(e[24]=y=>n(t).settings.copyright.company=y),disabled:!n(t).settings.copyright.enable},null,8,["modelValue","disabled"])]),r("div",Pn,[e[55]||(e[55]=r("div",{class:"label"}," 网址 ",-1)),c(z,{modelValue:n(t).settings.copyright.website,"onUpdate:modelValue":e[25]||(e[25]=y=>n(t).settings.copyright.website=y),disabled:!n(t).settings.copyright.enable},null,8,["modelValue","disabled"])]),r("div",Tn,[e[56]||(e[56]=r("div",{class:"label"}," 备案 ",-1)),c(z,{modelValue:n(t).settings.copyright.beian,"onUpdate:modelValue":e[26]||(e[26]=y=>n(t).settings.copyright.beian=y),disabled:!n(t).settings.copyright.enable},null,8,["modelValue","disabled"])]),e[70]||(e[70]=r("div",{class:"divider"}," 其它 ",-1)),r("div",Hn,[e[57]||(e[57]=r("div",{class:"label"}," 是否启用权限 ",-1)),c(k,{modelValue:n(t).settings.app.enablePermission,"onUpdate:modelValue":e[27]||(e[27]=y=>n(t).settings.app.enablePermission=y)},null,8,["modelValue"])]),r("div",Rn,[r("div",Bn,[e[58]||(e[58]=U(" 载入进度条 ")),c(v,{text:"该功能开启时，跳转路由会看到页面顶部有进度条"},{default:M(()=>[c(p,{name:"ri:question-line"})]),_:1})]),c(k,{modelValue:n(t).settings.app.enableProgress,"onUpdate:modelValue":e[28]||(e[28]=y=>n(t).settings.app.enableProgress=y)},null,8,["modelValue"])]),r("div",Nn,[r("div",Un,[e[59]||(e[59]=U(" 动态标题 ")),c(v,{text:"该功能开启时，页面标题会显示当前路由标题，格式为“页面标题 - 网站名称”；关闭时则显示网站名称，网站名称在项目根目录下 .env.* 文件里配置"},{default:M(()=>[c(p,{name:"ri:question-line"})]),_:1})]),c(k,{modelValue:n(t).settings.app.enableDynamicTitle,"onUpdate:modelValue":e[29]||(e[29]=y=>n(t).settings.app.enableDynamicTitle=y)},null,8,["modelValue"])])]),_:2},[n(g)?{name:"footer",fn:M(()=>[c(te,{block:"",onClick:S},{default:M(()=>[c(p,{name:"ep:document-copy"}),e[60]||(e[60]=U(" 复制配置 "))]),_:1})]),key:"0"}:void 0]),1032,["modelValue"])}}}),Ln=q(En,[["__scopeId","data-v-c6553910"]]),Ve=ye("keepAlive",()=>{const b=T([]);function s(a){typeof a=="string"?!b.value.includes(a)&&b.value.push(a):a.forEach(l=>{l&&!b.value.includes(l)&&b.value.push(l)})}function t(a){typeof a=="string"?b.value=b.value.filter(l=>l!==a):b.value=b.value.filter(l=>!a.includes(l))}function o(){b.value=[]}return{list:b,add:s,remove:t,clean:o}}),$e=ye("tabbar",()=>{const b=Ve(),s=N(),t=T([{tabId:s.settings.home.fullPath,fullPath:s.settings.home.fullPath,routeName:"Dashboard",title:s.settings.home.title,icon:"fluent:laptop-settings-20-regular",name:[]}]),o=T(-1);async function a(h){var e,u,m;if(h.meta.isFull)return;const w=[];h.matched.forEach((p,v)=>{var k;v>0&&(k=p.components)!=null&&k.default.name&&w.push(p.components.default.name)});const S=(e=h.matched.at(-1))==null?void 0:e.meta,V=h.fullPath;if(h.name!=="reload"&&!t.value.find(v=>v.routeName?v.routeName===h.name:v.tabId===V)){const v={tabId:V,fullPath:h.fullPath,routeName:h.name,title:typeof(S==null?void 0:S.title)=="function"?S.title():S==null?void 0:S.title,icon:(S==null?void 0:S.icon)??((m=(u=S==null?void 0:S.breadcrumbNeste)==null?void 0:u.findLast(k=>k.icon))==null?void 0:m.icon),name:w};o.value>=0?(t.value.splice(o.value+1,0,v),o.value=-1):t.value.push(v)}}function l(h){const w=[],S=[];t.value.forEach(e=>{e.tabId===h?S.push(...e.name):w.push(...e.name)});const V=[];S.forEach(e=>{w.includes(e)||V.push(e)}),b.remove(V),t.value=t.value.filter(e=>e.tabId!==h)}function x(h){const w=[],S=[];t.value.forEach(e=>{e.tabId!==h?S.push(...e.name):w.push(...e.name)});const V=[];S.forEach(e=>{w.includes(e)||V.push(e)}),b.remove(V),t.value=t.value.filter(e=>e.tabId===h)}function f(h){const w=t.value.findIndex(u=>u.tabId===h),S=[],V=[];t.value.forEach((u,m)=>{m<w?V.push(...u.name):S.push(...u.name)});const e=[];V.forEach(u=>{S.includes(u)||e.push(u)}),b.remove(e),t.value=t.value.filter((u,m)=>m>=w)}function i(h){const w=t.value.findIndex(u=>u.tabId===h),S=[],V=[];t.value.forEach((u,m)=>{m>w?V.push(...u.name):S.push(...u.name)});const e=[];V.forEach(u=>{S.includes(u)||e.push(u)}),b.remove(e),t.value=t.value.filter((u,m)=>m<=w)}function g(){t.value=[]}return{list:t,leaveIndex:o,add:a,remove:l,removeOtherSide:x,removeLeftSide:f,removeRightSide:i,clean:g}});function qn(){const b=J(),s=G(),t=$e();function o(){return b.fullPath}function a(e){const u=t.list.findIndex(m=>m.tabId===o());t.$patch({leaveIndex:u}),s.push(e)}function l(e){const u=o();s.go(e),t.remove(u)}function x(e){const u=o();s.push(e).then(()=>{t.remove(u)})}function f(e=o()){const u=o();if(t.list.some(m=>m.tabId===e))if(t.list.length>1)if(e===u){const m=t.list.findIndex(p=>p.tabId===e);m<t.list.length-1?x(t.list[m+1].fullPath):x(t.list[m-1].fullPath)}else t.remove(e);else oe.error("当前只有一个标签页，已阻止关闭",{zIndex:2e3});else oe.error("关闭的页面不存在",{zIndex:2e3})}function i(e=o()){const u=o();if(e!==u){const m=t.list.findIndex(p=>p.tabId===e);s.push(t.list[m].fullPath)}t.removeOtherSide(e)}function g(e=o()){const u=o();if(e!==u){const m=t.list.findIndex(v=>v.tabId===e);t.list.findIndex(v=>v.tabId===u)<m&&s.push(t.list[m].fullPath)}t.removeLeftSide(e)}function h(e=o()){const u=o();if(e!==u){const m=t.list.findIndex(v=>v.tabId===e);t.list.findIndex(v=>v.tabId===u)>m&&s.push(t.list[m].fullPath)}t.removeRightSide(e)}function w(e=o()){return t.list.some(u=>u.tabId!==e)}function S(e=o()){var m;let u=!0;if(e===((m=t.list[0])==null?void 0:m.tabId))u=!1;else{const p=t.list.findIndex(v=>v.tabId===e);u=t.list.some((v,k)=>k<p&&v.tabId!==e)}return u}function V(e=o()){var m;let u=!0;if(e===((m=t.list.at(-1))==null?void 0:m.tabId))u=!1;else{const p=t.list.findIndex(v=>v.tabId===e);u=t.list.some((v,k)=>k>=p&&v.tabId!==e)}return u}return{getId:o,open:a,go:l,close:x,closeById:f,closeOtherSide:i,closeLeftSide:g,closeRightSide:h,checkCloseOtherSide:w,checkCloseLeftSide:S,checkCloseRightSide:V}}const zn={class:"tabbar-container"},An=["data-index","title","onClick","onContextmenu"],On={class:"tab-content"},jn={class:"title"},Dn={key:0,class:"action-icon"},Kn=P({name:"Tabbar",__name:"index",setup(b){const s=J(),t=G(),o=N(),a=$e(),l=qn(),x=ue(),f=De({reactive:!0}),i=H(()=>l.getId()),g=T(),h=T(),w=ae([]);Ue(()=>{w.value=[]}),E(()=>s,m=>{o.settings.tabbar.enable&&a.add(m).then(()=>{const p=a.list.findIndex(v=>v.tabId===i.value);p!==-1&&(e(w.value[p].offsetLeft-0),S())})},{immediate:!0,deep:!0});function S(){h.value.$el.clientWidth>g.value.clientWidth&&localStorage.getItem("tabbarScrollTip")===void 0&&(localStorage.setItem("tabbarScrollTip",""),oe.info("标签栏数量超过展示区域范围，可以将鼠标移到标签栏上，通过鼠标滚轮滑动浏览",{title:"温馨提示",duration:5e3,closable:!0,zIndex:2e3}))}function V(m){(m.deltaY||m.detail!==0)&&g.value.scrollBy({left:(m.deltaY||m.detail)>0?50:-50})}function e(m){g.value.scrollTo({left:m-130,behavior:"smooth"})}function u(m,p){m.preventDefault(),nt.showContextMenu({x:m.x,y:m.y,zIndex:1e3,iconFontClass:"",customClass:"tabbar-contextmenu",items:[{label:"重新加载",icon:"i-ri:refresh-line",disabled:p.tabId!==i.value,onClick:()=>x.reload()},{label:"关闭标签页",icon:"i-ri:close-line",disabled:a.list.length<=1||p.tabId===o.settings.home.fullPath,divided:!0,onClick:()=>{l.closeById(p.tabId)}},{label:"关闭其他标签页",icon:"i-ant-design:column-width-outlined",disabled:!l.checkCloseOtherSide(p.tabId),onClick:()=>{l.closeOtherSide(p.tabId)}},{label:"关闭左侧标签页",icon:"i-mdi:format-horizontal-align-left",disabled:!l.checkCloseLeftSide(p.tabId),onClick:()=>{l.closeLeftSide(p.tabId)}},{label:"关闭右侧标签页",icon:"i-mdi:format-horizontal-align-right",disabled:!l.checkCloseRightSide(p.tabId),onClick:()=>{l.closeRightSide(p.tabId)}}]})}return(m,p)=>{const v=B;return d(),_("div",zn,[r("div",{ref_key:"tabsRef",ref:g,class:"tabs",onWheel:me(V,["prevent"])},[c(ie,{ref_key:"tabContainerRef",ref:h,name:"tabbar",tag:"div",class:"tab-container"},{default:M(()=>[(d(!0),_(R,null,A(n(a).list,(k,D)=>(d(),_("div",{key:k.tabId,ref_for:!0,ref_key:"tabRef",ref:w,"data-index":D,class:I(["tab",{actived:k.tabId===n(i)}]),title:typeof(k==null?void 0:k.title)=="function"?k.title():k.title,onClick:z=>n(t).push(k.fullPath),onContextmenu:z=>u(z,k)},[p[0]||(p[0]=r("div",{class:"tab-dividers"},null,-1)),p[1]||(p[1]=r("div",{class:"tab-background"},null,-1)),r("div",On,[(d(),_("div",{key:k.tabId,class:"tab-title"},[n(o).settings.tabbar.enableIcon&&k.icon?(d(),$(v,{key:0,name:k.icon,class:"icon"},null,8,["name"])):C("",!0),r("span",jn,L(k.title),1)])),n(a).list.length>1?(d(),_("div",Dn,[c(v,{name:"ri:close-fill",onClick:me(z=>n(l).closeById(k.tabId),["stop"])},null,8,["onClick"])])):C("",!0),Y(r("div",{class:"hotkey-number"},L(D+1),513),[[Q,n(f).alt&&D<9]])])],42,An))),128))]),_:1},512)],544)])}}}),Fn=q(Kn,[["__scopeId","data-v-e6c5c228"]]),Jn={},Yn={class:"flex items-center text-sm"};function Wn(b,s){return d(),_("div",Yn,[O(b.$slots,"default",{},void 0,!0)])}const Gn=q(Jn,[["render",Wn],["__scopeId","data-v-ca653fd3"]]),Xn={class:"breadcrumb-item flex items-center text-dark dark:text-white"},Qn={class:"separator mx-2"},Zn=P({__name:"item",props:{to:{},replace:{type:Boolean},separator:{default:"/"}},setup(b){const s=b,t=G();function o(){s.to&&(s.replace?t.replace(s.to):t.push(s.to))}return(a,l)=>(d(),_("div",Xn,[r("span",Qn,L(a.separator),1),r("span",{class:I(["text flex items-center opacity-60",{"is-link cursor-pointer transition-opacity hover:opacity-100":!!s.to}]),onClick:o},[O(a.$slots,"default")],2)]))}}),es=P({__name:"index",setup(b){const s=J(),t=N(),o=H(()=>{const l=[];return t.settings.home.enable&&l.push({path:t.settings.home.fullPath,title:t.settings.home.title}),s.meta.breadcrumbNeste&&s.meta.breadcrumbNeste.forEach(x=>{x.hide===!1&&l.push({path:x.path,title:x.title})}),l});function a(l){return st(l)(s.params)}return(l,x)=>n(t).mode==="pc"?(d(),$(Gn,{key:0,class:"breadcrumb whitespace-nowrap px-2"},{default:M(()=>[c(ie,{name:"breadcrumb"},{default:M(()=>[(d(!0),_(R,null,A(n(o),(f,i)=>(d(),$(Zn,{key:`${i}_${f.path}_${f.title}`,to:i<n(o).length-1&&f.path!==""?a(f.path):""},{default:M(()=>[U(L(f.title),1)]),_:2},1032,["to"]))),128))]),_:1})]),_:1})):C("",!0)}}),ts=q(es,[["__scopeId","data-v-9e28531d"]]),ns={class:"flex items-center"},ss=P({name:"ToolbarLeftSide",__name:"leftSide",setup(b){const s=N();return(t,o)=>{const a=B;return d(),_("div",ns,[n(s).mode==="mobile"?(d(),_("div",{key:0,class:"flex-center cursor-pointer px-2 py-1 -rotate-z-180",onClick:o[0]||(o[0]=l=>n(s).toggleSidebarCollapse())},[c(a,{name:"toolbar-collapse"})])):C("",!0),n(s).settings.toolbar.breadcrumb?(d(),$(ts,{key:1})):C("",!0)])}}}),os={class:"toolbar-container flex items-center justify-between"},ls={class:"h-full flex items-center of-hidden pl-2 pr-16",style:{"mask-image":"linear-gradient(90deg, #000 0%, #000 calc(100% - 50px), transparent)"}},as={class:"h-full flex items-center px-2"},is=P({name:"Toolbar",__name:"index",setup(b){const s=N();return(t,o)=>(d(),_("div",os,[r("div",ls,[c(ss)]),Y(r("div",as,[c(ke)],512),[[Q,["side","single"].includes(n(s).settings.menu.menuMode)]])]))}}),rs=q(is,[["__scopeId","data-v-d06d717e"]]),us=P({name:"Topbar",__name:"index",setup(b){const s=N(),t=H(()=>!(s.settings.menu.menuMode==="head"&&!s.settings.toolbar.breadcrumb)),o=T(0),a=T(!1),l=H(()=>{const f=s.settings.tabbar.enable?Number.parseInt(getComputedStyle(document.documentElement||document.body).getPropertyValue("--g-tabbar-height")):0,i=t.value?Number.parseInt(getComputedStyle(document.documentElement||document.body).getPropertyValue("--g-toolbar-height")):0;return f+i});ee(()=>{window.addEventListener("scroll",x)}),he(()=>{window.removeEventListener("scroll",x)});function x(){o.value=(document.documentElement||document.body).scrollTop}return E(o,(f,i)=>{a.value=s.settings.topbar.mode==="sticky"&&f>i&&f>l.value}),(f,i)=>(d(),_("div",{class:I(["topbar-container",{"has-tabbar":n(s).settings.tabbar.enable,"has-toolbar":n(t),[`topbar-${n(s).settings.topbar.mode}`]:!0,shadow:n(o),hide:n(a)}]),"data-fixed-calc-width":""},[n(t)?(d(),$(rs,{key:0})):C("",!0),n(s).settings.tabbar.enable?(d(),$(Fn,{key:1})):C("",!0)],2))}}),ds=q(us,[["__scopeId","data-v-58eebbbe"]]),cs={class:"p-[10px]"},ms={class:"frame"},ps=["src"],fs=P({name:"FrameView",__name:"iframe",setup(b){const s=T(!0),t=J(),o=T(""),a=T(null),l=T(new Date().getTime());ee(()=>{s.value=!0,X(()=>{var i;o.value=(i=n(t.meta))==null?void 0:i.iframe,f()})}),E(()=>{var i;return(i=n(t.meta))==null?void 0:i.iframe},i=>{var g;i&&(s.value=!0,(g=n(t.meta))!=null&&g.iframe&&(l.value=new Date().getTime(),X(()=>{var h;o.value=(h=n(t.meta))==null?void 0:h.iframe,f()})))});function x(){s.value=!1}function f(){X(()=>{const i=n(a);if(!i)return;const g=i;g.attachEvent?g.attachEvent("onload",()=>{x()}):i.onload=()=>{x()}})}return(i,g)=>(d(),_("div",cs,[r("div",ms,[(d(),_("iframe",{key:n(l),ref_key:"frameRef",ref:a,src:n(o),class:"frame-iframe"},null,8,ps))])]))}}),bs=q(fs,[["__scopeId","data-v-3de2994e"]]),vs={class:"layout"},gs={id:"app-main"},hs={class:"wrapper"},_s={class:"main-container"},ys={class:"main"},xs=P({__name:"index",setup(b){const s=Ve(),t=N(),o=W(),a=J(),l=ue(),x=de(),f=H(()=>!!a.meta.iframe);return E(()=>a.path,()=>{t.mode==="mobile"&&t.$patch(i=>{i.settings.menu.subMenuCollapse=!0})}),E(()=>t.settings.menu.subMenuCollapse,i=>{t.mode==="mobile"&&(i?document.body.classList.remove("overflow-hidden"):document.body.classList.add("overflow-hidden"))}),ee(()=>{se("f5",i=>{t.settings.toolbar.pageReload&&(i.preventDefault(),l.reload())}),se("alt+`",i=>{t.settings.menu.enableHotkeys&&(i.preventDefault(),x.switchTo(o.actived+1<o.allMenus.length?o.actived+1:0))})}),he(()=>{se.unbind("f5"),se.unbind("alt+`")}),(i,g)=>{const h=j("RouterView"),w=B;return d(),_("div",vs,[r("div",gs,[c(Ct),r("div",hs,[r("div",{class:I(["sidebar-container",{show:n(t).mode==="mobile"&&!n(t).settings.menu.subMenuCollapse}])},[c(Nt),c(At)],2),r("div",{class:I(["sidebar-mask",{show:n(t).mode==="mobile"&&!n(t).settings.menu.subMenuCollapse}]),onClick:g[0]||(g[0]=S=>n(t).toggleSidebarCollapse())},null,2),r("div",_s,[c(ds),r("div",ys,[c(h,null,{default:M(({Component:S,route:V})=>[c(le,{name:"slide-right",mode:"out-in",appear:""},{default:M(()=>[(d(),$(Ee,{include:n(s).list},[Y((d(),$(ve(S),{key:V.fullPath})),[[Q,!n(f)]])],1032,["include"]))]),_:2},1024)]),_:1}),n(f)?(d(),$(bs,{key:0})):C("",!0)])])])]),(d(),_(R,{key:0},[r("div",{class:"app-setting",onClick:g[1]||(g[1]=S=>n(Me).emit("global-app-setting-toggle"))},[c(w,{name:"uiw:setting-o",class:"icon"})]),c(Ln)],64))])}}}),ao=q(xs,[["__scopeId","data-v-c2dd8df5"]]);export{ao as default};
