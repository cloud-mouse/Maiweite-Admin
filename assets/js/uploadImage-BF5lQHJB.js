import{a as V,y,A as E}from"./element-plus-C-DFkfq5.js";import{d as U,r as o,j as u,b,h as a,n as w}from"./@vue-pvvZVrFb.js";import"./lodash-es-l8Yk8yFo.js";import"./@vueuse-T0N5pcum.js";import"./nprogress-D_ytO6nf.js";import"./@imengyu-CJXSuKKD.js";import"./vue-CFNvRKsS.js";import"./@element-plus-B1SGd3PH.js";import"./@sxzz-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BU0tXZvT.js";import"./async-validator-CRbnkQr6.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-DiM7Jq06.js";const D=U({props:{modelValue:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(n,{emit:p,attrs:d}){const l=o([]),r=o(""),i=o(!1),s=e=>{i.value=e};u(l,e=>{p("update:modelValue",e)}),u(()=>n.modelValue,e=>{if(e!=null&&e.length>0&&l.value!=null){if(l.value===e)return;l.value.length=0,l.value.push(...e)}},{deep:!0,immediate:!0});const m=(e,t)=>{w(()=>{l.value=t})},c=(e,t,x)=>{},g=(e,t,x)=>{V.error("上传失败")},f=e=>{},v=b(()=>({...d,"file-list":l.value,"list-type":"picture-card",accept:"image/gif,image/jpeg,image/jpg,image/png,image/svg",onBeforeUpload:f,onChange:m,onSuccess:c,onError:g,onPreview:h})),h=e=>{e.url&&(r.value=e.url,s(!0))};return()=>a("div",{class:"elegant-upload-image"},{default:()=>[a(y,v.value,{default:()=>[a("div",{style:{"text-align":"center"}},{default:()=>[a("span",{class:"icon--elegant icon--elegant--cloud-upload-outlined mr-2px text-lg"}),a("div",{class:"ant-upload-text"},{default:()=>"点击上传"})]})]}),(()=>{if(i.value)return a(E,{urlList:[r.value],onClose:()=>{s(!1)}})})()]})}});export{D as default};
