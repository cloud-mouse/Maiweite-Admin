import{O as y}from"./overlayscrollbars-DIcyBJd7.js";import{d as S,a3 as _,s as w,r as h,aB as x,j as b,k as u,o as C,U as z,V as A,P as I,c as E,X as R,g as U}from"./@vue-CZYi67Zs.js";const q=()=>{if(typeof window>"u"){const o=()=>{};return[o,o]}let s,t;const l=window,n=typeof l.requestIdleCallback=="function",r=l.requestAnimationFrame,a=l.cancelAnimationFrame,p=n?l.requestIdleCallback:r,f=n?l.cancelIdleCallback:a,e=()=>{f(s),a(t)};return[(o,m)=>{e(),s=p(n?()=>{e(),t=r(o)}:o,typeof m=="object"?m:{timeout:2233})},e]},D=s=>{let t=null,l,n,r;const a=w(s||{}),[p,f]=q();return b(()=>{var e;return u((e=a.value)==null?void 0:e.defer)},e=>{r=e},{deep:!0,immediate:!0}),b(()=>{var e;return u((e=a.value)==null?void 0:e.options)},e=>{l=e,y.valid(t)&&t.options(l||{},!0)},{deep:!0,immediate:!0}),b(()=>{var e;return u((e=a.value)==null?void 0:e.events)},e=>{n=e,y.valid(t)&&t.on(n||{},!0)},{deep:!0,immediate:!0}),U(()=>{f(),t==null||t.destroy()}),[e=>{if(y.valid(t))return t;const o=()=>t=y(e,l||{},n||{});r?p(o,r):o()},()=>t]},$=S({__name:"OverlayScrollbarsComponent",props:{element:{type:[String,Object],default:"div"},options:{type:Object},events:{type:Object},defer:{type:[Boolean,Object]}},emits:["osInitialized","osUpdated","osDestroyed","osScroll"],setup(s,{expose:t,emit:l}){const n=s,r={initialized:"osInitialized",updated:"osUpdated",destroyed:"osDestroyed",scroll:"osScroll"},{element:a,options:p,events:f,defer:e}=_(n),o=w(null),m=w(null),O=h(),[g,j]=D({options:p,events:O,defer:e});return t({osInstance:j,getElement:()=>o.value}),x(i=>{const{value:d}=o,{value:v}=m;d&&(g(a.value==="body"?{target:d,cancel:{body:null}}:{target:d,elements:{viewport:v,content:v}}),i(()=>{var c;return(c=j())==null?void 0:c.destroy()}))}),b(()=>u(f),i=>{const d=i||{};O.value=Object.keys(r).reduce((v,c)=>{const k=d[c];return v[c]=[(...B)=>l(r[c],...B),...(Array.isArray(k)?k:[k]).filter(Boolean)],v},{})},{deep:!0,immediate:!0}),(i,d)=>(C(),z(R(u(a)),{"data-overlayscrollbars-initialize":"",ref_key:"elementRef",ref:o},{default:A(()=>[u(a)==="body"?I(i.$slots,"default",{key:0}):(C(),E("div",{key:1,"data-overlayscrollbars-contents":"",ref_key:"slotRef",ref:m},[I(i.$slots,"default")],512))]),_:3},512))}});export{$ as P};
