(function(){"use strict";self.importScripts("spark-md5.js");function i(c,e,n){try{return new Promise((a,l)=>{let s=e*n,o=s+n;const r=new SparkMD5.ArrayBuffer,t=new FileReader;t.onload=f=>{r.append(f.target.result),a({start:s,end:o,index:e,hash:r.end()})},t.readAsArrayBuffer(c.slice(s,o)),t.onerror=f=>{l(f)}})}catch{}}self.onmessage=async c=>{try{const e=[],{file:n,chunkSize:a,startIndex:l,endIndex:s}=c.data;for(let r=l;r<s;r++){const t=i(n,r,a);e.push(t)}const o=await Promise.all(e);self.postMessage(o)}catch(e){self.postMessage(e)}}})();
